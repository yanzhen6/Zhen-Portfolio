{
 "cells": [
  {
   "cell_type": "markdown",
   "id": "360c2351",
   "metadata": {},
   "source": [
    "## Analysis Challenge Assignment"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "ce687dd0",
   "metadata": {},
   "source": [
    "### Authors: Jingyuan Liang, Siyu Lin, Zhen Yan"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "fb1dd2e9",
   "metadata": {},
   "source": [
    "### 1. Criteria\n",
    "\n",
    "#### Urban cities\n",
    "\n",
    "We selected 13 big cities based on population density. The data source is from https://en.wikipedia.org/wiki/List_of_United_States_cities_by_population.\n",
    "\n",
    "#### Quality\n",
    "\n",
    "   Quality consists of seven factors, which are Programs offered by type, Admission rate, Retention rate, Completion rate, revenue/cost of school, cumulative median debt, and Cohort Default Rate.\n",
    "\n",
    " -Programs offered by type. \n",
    "        Programs offered by type provide data about degrees awarded in the field of study and whether offers the program at different levels. This is a measure of how a school is regarded by the Authority agency in Academic reputation, such as having innovative approaches or new academic reports. It can keep the university's accreditation. Thus , the higher percentage of degrees awarded is better.                \t\t\t\n",
    "\n",
    "-Admission rate\n",
    "\tThe admission rate indicates the admission rate across all campuses in a university. Low admission rates imply the competitiveness of applicants and the strict procedures of selecting students. Thus, the lower admission rate is better.\n",
    "\t\n",
    "-Completion rate\n",
    "\tStudents are able to complete their studies within 150% and 200% of time in the university, demonstrating the reasonable design of the university’ educational system. When more enrolled students could complete their degrees, the better curriculum structure the university is likely to have. Thus, the higher completion rate is better.\n",
    "\n",
    "-retention rate \n",
    "      Retention rate share of full-time/part-time students in the prior year at four-year institutions/ less-than-four-year institutions. This represents the percentage of students who returned to the same college or university in the prior year. A higher retention rate scores is better because Students staying enrolled demonstrates a school's continued appeal.\n",
    "\n",
    "-Revenue/ cost of school \n",
    "      Data from revenue/cost of school are collected by Instructional expenditures per student and the average faculty salary. Research shows there is a link between academic outcomes and compensation of faculty. Instructors will access students more if the university pays their salaries more. Thus, more expenditures in faculty will be better in our ranking model.  \n",
    "      \n",
    "-Cumulative Median Debt\n",
    "      Cumulative Median Debt provides data about the debt level of students who are complete or the debt level of students who withdraw without complete. Debt level is a main factor to assess the value of a degree after graduation, which means the students can earn enough money to make the loan payments. A higher debt level could simply reflect the more amount of time that students spend at the institution. A lower withdrawal debt level means the small numbers of students without before completion. \n",
    "\n",
    "-Cohort Default Rate\n",
    "     Schools with too-high default rates may lose access to federal financial aid, if CDR is too high, students would no longer be able to borrow the federal loan.  If students choose this school, the higher CDR will increase costs, which will lower the admission rate and graduation rate. \n",
    "\n",
    "\n",
    "#### Diversity\n",
    "\n",
    "   For the diversity of one school, we consider the percentage of students of different races and the enrollment status (part-time and full-time). We are also interested in students' background gender, age, economic status, the share of first-generation students, which can be good indicators to evaluate the diversity of students' background of a school, however, these data are temporarily unavailable due to privacy or data missing, so we only take the race diversity and enrollment status into account to evaluate the diversity of colleges.\n",
    "\n",
    "-Race diversity\n",
    "    We use the standard deviations of the total share of enrollment of undergraduate degree-seeking students of different races as the indicator of diversity in races, the different races includes white, black, Hispanic, Asian, American/Indian/Alaska Native, Native Hawaiian/Pacific Islander, two or more races, non-resident aliens (and races unknown). The smaller standard deviations of these races may indicate more even proportion, namely a higher level of diversity in race. We rank the standard deviation in ascending order.\n",
    "\n",
    "-The share of part-time students\n",
    "We also include the part time/full time status of undergraduate students as an indicator of diverse background, considering that part-time students may have intern or work experiences outside the school, which may contribute to exchanging ideas. We calculate the mean of the percentage of undergraduate students who enroll part-time, then calculate the absolute value of difference to the mean of each college. We consider the average percentage as a relatively normal situation of enrollment status, and the percentage of each college closer to the average percentage is considered to be with a reasonable proportion of part-time and full-time students. We rank the absolute value in ascending order.\n",
    "\n",
    "#### Safety\n",
    "\n",
    "   We use crime rate as the indicator to evaluate safety of schools, which is the number of reported offenses per 100,000 population. The data sources of offenses are from the official website of the FBI. Here offenses can be classified into violent crime and property crime. We calculate the crime rate by dividing the number of offenses by the population of the city and multiplying it by 100,000. We calculate the violent crime rate and the property crime rate, then rank them in ascending order respectively.\n",
    "\n"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "fcf4dcd7",
   "metadata": {},
   "source": [
    "### 2. Import, clean, prepare, and merge data"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 420,
   "id": "8b4bf617",
   "metadata": {},
   "outputs": [],
   "source": [
    "import pandas as pd\n",
    "import numpy as np\n",
    "import matplotlib.pyplot as plt"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 421,
   "id": "77ad7bda",
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "/Users/ljy/opt/anaconda3/lib/python3.8/site-packages/IPython/core/interactiveshell.py:3165: DtypeWarning: Columns (7,9,1427,1542,1561,1575,1725,1726,1727,1728) have mixed types.Specify dtype option on import or set low_memory=False.\n",
      "  has_raised = await self.run_ast_nodes(code_ast.body, cell_name,\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>UNITID</th>\n",
       "      <th>OPEID</th>\n",
       "      <th>opeid6</th>\n",
       "      <th>INSTNM</th>\n",
       "      <th>CITY</th>\n",
       "      <th>STABBR</th>\n",
       "      <th>ZIP</th>\n",
       "      <th>AccredAgency</th>\n",
       "      <th>INSTURL</th>\n",
       "      <th>NPCURL</th>\n",
       "      <th>...</th>\n",
       "      <th>PELL_RPY_3YR_RT_SUPP</th>\n",
       "      <th>NOPELL_RPY_3YR_RT_SUPP</th>\n",
       "      <th>FEMALE_RPY_3YR_RT_SUPP</th>\n",
       "      <th>MALE_RPY_3YR_RT_SUPP</th>\n",
       "      <th>FIRSTGEN_RPY_3YR_RT_SUPP</th>\n",
       "      <th>NOTFIRSTGEN_RPY_3YR_RT_SUPP</th>\n",
       "      <th>C150_L4_POOLED_SUPP</th>\n",
       "      <th>C150_4_POOLED_SUPP</th>\n",
       "      <th>C200_L4_POOLED_SUPP</th>\n",
       "      <th>C200_4_POOLED_SUPP</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>100654</td>\n",
       "      <td>100200</td>\n",
       "      <td>1002</td>\n",
       "      <td>Alabama A &amp; M University</td>\n",
       "      <td>Normal</td>\n",
       "      <td>AL</td>\n",
       "      <td>35762</td>\n",
       "      <td>Southern Association of Colleges and Schools C...</td>\n",
       "      <td>www.aamu.edu/</td>\n",
       "      <td>galileo.aamu.edu/netpricecalculator/npcalc.htm</td>\n",
       "      <td>...</td>\n",
       "      <td>0.443586698337</td>\n",
       "      <td>0.45251396648</td>\n",
       "      <td>0.484818805093</td>\n",
       "      <td>0.406</td>\n",
       "      <td>0.423580786026</td>\n",
       "      <td>0.442452830189</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.30871831265508</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.35168556430446</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>100663</td>\n",
       "      <td>105200</td>\n",
       "      <td>1052</td>\n",
       "      <td>University of Alabama at Birmingham</td>\n",
       "      <td>Birmingham</td>\n",
       "      <td>AL</td>\n",
       "      <td>35294-0110</td>\n",
       "      <td>Southern Association of Colleges and Schools C...</td>\n",
       "      <td>www.uab.edu</td>\n",
       "      <td>www.collegeportraits.org/AL/UAB/estimator/agree</td>\n",
       "      <td>...</td>\n",
       "      <td>0.732297852901</td>\n",
       "      <td>0.795454545455</td>\n",
       "      <td>0.760521885522</td>\n",
       "      <td>0.755344418052</td>\n",
       "      <td>0.751552795031</td>\n",
       "      <td>0.765074770863</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.50854980789381</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.4730923834537</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>100690</td>\n",
       "      <td>2503400</td>\n",
       "      <td>25034</td>\n",
       "      <td>Amridge University</td>\n",
       "      <td>Montgomery</td>\n",
       "      <td>AL</td>\n",
       "      <td>36117-3553</td>\n",
       "      <td>Southern Association of Colleges and Schools C...</td>\n",
       "      <td>www.amridgeuniversity.edu</td>\n",
       "      <td>tcc.noellevitz.com/(S(miwoihs5stz5cpyifh4nczu0...</td>\n",
       "      <td>...</td>\n",
       "      <td>0.600877192982</td>\n",
       "      <td>0.775</td>\n",
       "      <td>0.610465116279</td>\n",
       "      <td>0.686567164179</td>\n",
       "      <td>0.632653061224</td>\n",
       "      <td>0.65</td>\n",
       "      <td>NaN</td>\n",
       "      <td>PrivacySuppressed</td>\n",
       "      <td>NaN</td>\n",
       "      <td>PrivacySuppressed</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>100706</td>\n",
       "      <td>105500</td>\n",
       "      <td>1055</td>\n",
       "      <td>University of Alabama in Huntsville</td>\n",
       "      <td>Huntsville</td>\n",
       "      <td>AL</td>\n",
       "      <td>35899</td>\n",
       "      <td>Southern Association of Colleges and Schools C...</td>\n",
       "      <td>www.uah.edu</td>\n",
       "      <td>finaid.uah.edu/</td>\n",
       "      <td>...</td>\n",
       "      <td>0.738341968912</td>\n",
       "      <td>0.85140562249</td>\n",
       "      <td>0.768378650554</td>\n",
       "      <td>0.798440979955</td>\n",
       "      <td>0.778156996587</td>\n",
       "      <td>0.791666666667</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.47821134615384</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.49412939796716</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>100724</td>\n",
       "      <td>100500</td>\n",
       "      <td>1005</td>\n",
       "      <td>Alabama State University</td>\n",
       "      <td>Montgomery</td>\n",
       "      <td>AL</td>\n",
       "      <td>36104-0271</td>\n",
       "      <td>Southern Association of Colleges and Schools C...</td>\n",
       "      <td>www.alasu.edu/email/index.aspx</td>\n",
       "      <td>www.alasu.edu/cost-aid/forms/calculator/index....</td>\n",
       "      <td>...</td>\n",
       "      <td>0.320016820858</td>\n",
       "      <td>0.380829015544</td>\n",
       "      <td>0.364423717522</td>\n",
       "      <td>0.286530612245</td>\n",
       "      <td>0.315737051793</td>\n",
       "      <td>0.334633385335</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.25748195545488</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.29365162671232</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7799</th>\n",
       "      <td>48285703</td>\n",
       "      <td>157107</td>\n",
       "      <td>1571</td>\n",
       "      <td>Georgia Military College-Columbus Campus</td>\n",
       "      <td>Columbus</td>\n",
       "      <td>GA</td>\n",
       "      <td>31909</td>\n",
       "      <td>NaN</td>\n",
       "      <td>http://columbus.gmc.cc.ga.us/</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>0.427891480248</td>\n",
       "      <td>0.607753705815</td>\n",
       "      <td>0.490091055169</td>\n",
       "      <td>0.461751152074</td>\n",
       "      <td>0.490384615385</td>\n",
       "      <td>0.495152870992</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7800</th>\n",
       "      <td>48285704</td>\n",
       "      <td>157101</td>\n",
       "      <td>1571</td>\n",
       "      <td>Georgia Military College-Valdosta Campus</td>\n",
       "      <td>Valdosta</td>\n",
       "      <td>GA</td>\n",
       "      <td>31605</td>\n",
       "      <td>NaN</td>\n",
       "      <td>http://valdosta.gmc.cc.ga.us/</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>0.427891480248</td>\n",
       "      <td>0.607753705815</td>\n",
       "      <td>0.490091055169</td>\n",
       "      <td>0.461751152074</td>\n",
       "      <td>0.490384615385</td>\n",
       "      <td>0.495152870992</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7801</th>\n",
       "      <td>48285705</td>\n",
       "      <td>157105</td>\n",
       "      <td>1571</td>\n",
       "      <td>Georgia Military College-Warner Robins Campus</td>\n",
       "      <td>Warner Robins</td>\n",
       "      <td>GA</td>\n",
       "      <td>31093</td>\n",
       "      <td>NaN</td>\n",
       "      <td>http://robins.gmc.cc.ga.us/</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>0.427891480248</td>\n",
       "      <td>0.607753705815</td>\n",
       "      <td>0.490091055169</td>\n",
       "      <td>0.461751152074</td>\n",
       "      <td>0.490384615385</td>\n",
       "      <td>0.495152870992</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7802</th>\n",
       "      <td>48285706</td>\n",
       "      <td>157100</td>\n",
       "      <td>1571</td>\n",
       "      <td>Georgia Military College-Online</td>\n",
       "      <td>Milledgeville</td>\n",
       "      <td>GA</td>\n",
       "      <td>31061</td>\n",
       "      <td>NaN</td>\n",
       "      <td>http://online.gmc.cc.ga.us/</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>0.427891480248</td>\n",
       "      <td>0.607753705815</td>\n",
       "      <td>0.490091055169</td>\n",
       "      <td>0.461751152074</td>\n",
       "      <td>0.490384615385</td>\n",
       "      <td>0.495152870992</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7803</th>\n",
       "      <td>48285707</td>\n",
       "      <td>157103</td>\n",
       "      <td>1571</td>\n",
       "      <td>Georgia Military College-Stone Mountain</td>\n",
       "      <td>Stone Mountain</td>\n",
       "      <td>GA</td>\n",
       "      <td>30083</td>\n",
       "      <td>NaN</td>\n",
       "      <td>http://fairburn.gmc.cc.ga.us/</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>0.427891480248</td>\n",
       "      <td>0.607753705815</td>\n",
       "      <td>0.490091055169</td>\n",
       "      <td>0.461751152074</td>\n",
       "      <td>0.490384615385</td>\n",
       "      <td>0.495152870992</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>7804 rows × 1729 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "        UNITID    OPEID  opeid6  \\\n",
       "0       100654   100200    1002   \n",
       "1       100663   105200    1052   \n",
       "2       100690  2503400   25034   \n",
       "3       100706   105500    1055   \n",
       "4       100724   100500    1005   \n",
       "...        ...      ...     ...   \n",
       "7799  48285703   157107    1571   \n",
       "7800  48285704   157101    1571   \n",
       "7801  48285705   157105    1571   \n",
       "7802  48285706   157100    1571   \n",
       "7803  48285707   157103    1571   \n",
       "\n",
       "                                             INSTNM            CITY STABBR  \\\n",
       "0                          Alabama A & M University          Normal     AL   \n",
       "1               University of Alabama at Birmingham      Birmingham     AL   \n",
       "2                                Amridge University      Montgomery     AL   \n",
       "3               University of Alabama in Huntsville      Huntsville     AL   \n",
       "4                          Alabama State University      Montgomery     AL   \n",
       "...                                             ...             ...    ...   \n",
       "7799       Georgia Military College-Columbus Campus        Columbus     GA   \n",
       "7800       Georgia Military College-Valdosta Campus        Valdosta     GA   \n",
       "7801  Georgia Military College-Warner Robins Campus   Warner Robins     GA   \n",
       "7802                Georgia Military College-Online   Milledgeville     GA   \n",
       "7803        Georgia Military College-Stone Mountain  Stone Mountain     GA   \n",
       "\n",
       "             ZIP                                       AccredAgency  \\\n",
       "0          35762  Southern Association of Colleges and Schools C...   \n",
       "1     35294-0110  Southern Association of Colleges and Schools C...   \n",
       "2     36117-3553  Southern Association of Colleges and Schools C...   \n",
       "3          35899  Southern Association of Colleges and Schools C...   \n",
       "4     36104-0271  Southern Association of Colleges and Schools C...   \n",
       "...          ...                                                ...   \n",
       "7799       31909                                                NaN   \n",
       "7800       31605                                                NaN   \n",
       "7801       31093                                                NaN   \n",
       "7802       31061                                                NaN   \n",
       "7803       30083                                                NaN   \n",
       "\n",
       "                             INSTURL  \\\n",
       "0                      www.aamu.edu/   \n",
       "1                        www.uab.edu   \n",
       "2          www.amridgeuniversity.edu   \n",
       "3                        www.uah.edu   \n",
       "4     www.alasu.edu/email/index.aspx   \n",
       "...                              ...   \n",
       "7799   http://columbus.gmc.cc.ga.us/   \n",
       "7800   http://valdosta.gmc.cc.ga.us/   \n",
       "7801     http://robins.gmc.cc.ga.us/   \n",
       "7802     http://online.gmc.cc.ga.us/   \n",
       "7803   http://fairburn.gmc.cc.ga.us/   \n",
       "\n",
       "                                                 NPCURL  ...  \\\n",
       "0        galileo.aamu.edu/netpricecalculator/npcalc.htm  ...   \n",
       "1       www.collegeportraits.org/AL/UAB/estimator/agree  ...   \n",
       "2     tcc.noellevitz.com/(S(miwoihs5stz5cpyifh4nczu0...  ...   \n",
       "3                                       finaid.uah.edu/  ...   \n",
       "4     www.alasu.edu/cost-aid/forms/calculator/index....  ...   \n",
       "...                                                 ...  ...   \n",
       "7799                                                NaN  ...   \n",
       "7800                                                NaN  ...   \n",
       "7801                                                NaN  ...   \n",
       "7802                                                NaN  ...   \n",
       "7803                                                NaN  ...   \n",
       "\n",
       "      PELL_RPY_3YR_RT_SUPP  NOPELL_RPY_3YR_RT_SUPP  FEMALE_RPY_3YR_RT_SUPP  \\\n",
       "0           0.443586698337           0.45251396648          0.484818805093   \n",
       "1           0.732297852901          0.795454545455          0.760521885522   \n",
       "2           0.600877192982                   0.775          0.610465116279   \n",
       "3           0.738341968912           0.85140562249          0.768378650554   \n",
       "4           0.320016820858          0.380829015544          0.364423717522   \n",
       "...                    ...                     ...                     ...   \n",
       "7799        0.427891480248          0.607753705815          0.490091055169   \n",
       "7800        0.427891480248          0.607753705815          0.490091055169   \n",
       "7801        0.427891480248          0.607753705815          0.490091055169   \n",
       "7802        0.427891480248          0.607753705815          0.490091055169   \n",
       "7803        0.427891480248          0.607753705815          0.490091055169   \n",
       "\n",
       "      MALE_RPY_3YR_RT_SUPP  FIRSTGEN_RPY_3YR_RT_SUPP  \\\n",
       "0                    0.406            0.423580786026   \n",
       "1           0.755344418052            0.751552795031   \n",
       "2           0.686567164179            0.632653061224   \n",
       "3           0.798440979955            0.778156996587   \n",
       "4           0.286530612245            0.315737051793   \n",
       "...                    ...                       ...   \n",
       "7799        0.461751152074            0.490384615385   \n",
       "7800        0.461751152074            0.490384615385   \n",
       "7801        0.461751152074            0.490384615385   \n",
       "7802        0.461751152074            0.490384615385   \n",
       "7803        0.461751152074            0.490384615385   \n",
       "\n",
       "      NOTFIRSTGEN_RPY_3YR_RT_SUPP  C150_L4_POOLED_SUPP  C150_4_POOLED_SUPP  \\\n",
       "0                  0.442452830189                  NaN    0.30871831265508   \n",
       "1                  0.765074770863                  NaN    0.50854980789381   \n",
       "2                            0.65                  NaN   PrivacySuppressed   \n",
       "3                  0.791666666667                  NaN    0.47821134615384   \n",
       "4                  0.334633385335                  NaN    0.25748195545488   \n",
       "...                           ...                  ...                 ...   \n",
       "7799               0.495152870992                  NaN                 NaN   \n",
       "7800               0.495152870992                  NaN                 NaN   \n",
       "7801               0.495152870992                  NaN                 NaN   \n",
       "7802               0.495152870992                  NaN                 NaN   \n",
       "7803               0.495152870992                  NaN                 NaN   \n",
       "\n",
       "      C200_L4_POOLED_SUPP  C200_4_POOLED_SUPP  \n",
       "0                     NaN    0.35168556430446  \n",
       "1                     NaN     0.4730923834537  \n",
       "2                     NaN   PrivacySuppressed  \n",
       "3                     NaN    0.49412939796716  \n",
       "4                     NaN    0.29365162671232  \n",
       "...                   ...                 ...  \n",
       "7799                  NaN                 NaN  \n",
       "7800                  NaN                 NaN  \n",
       "7801                  NaN                 NaN  \n",
       "7802                  NaN                 NaN  \n",
       "7803                  NaN                 NaN  \n",
       "\n",
       "[7804 rows x 1729 columns]"
      ]
     },
     "execution_count": 421,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "ACAdata = pd.read_csv(\"/Users/ljy/Desktop/ACA1_dataset/CollegeScorecard.csv\")\n",
    "ACAdata"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "4dd137f7",
   "metadata": {},
   "source": [
    "#### Select big cities"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 423,
   "id": "429df094",
   "metadata": {
    "scrolled": false
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>UNITID</th>\n",
       "      <th>OPEID</th>\n",
       "      <th>opeid6</th>\n",
       "      <th>INSTNM</th>\n",
       "      <th>CITY</th>\n",
       "      <th>STABBR</th>\n",
       "      <th>ZIP</th>\n",
       "      <th>AccredAgency</th>\n",
       "      <th>INSTURL</th>\n",
       "      <th>NPCURL</th>\n",
       "      <th>...</th>\n",
       "      <th>PELL_RPY_3YR_RT_SUPP</th>\n",
       "      <th>NOPELL_RPY_3YR_RT_SUPP</th>\n",
       "      <th>FEMALE_RPY_3YR_RT_SUPP</th>\n",
       "      <th>MALE_RPY_3YR_RT_SUPP</th>\n",
       "      <th>FIRSTGEN_RPY_3YR_RT_SUPP</th>\n",
       "      <th>NOTFIRSTGEN_RPY_3YR_RT_SUPP</th>\n",
       "      <th>C150_L4_POOLED_SUPP</th>\n",
       "      <th>C150_4_POOLED_SUPP</th>\n",
       "      <th>C200_L4_POOLED_SUPP</th>\n",
       "      <th>C200_4_POOLED_SUPP</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>198</th>\n",
       "      <td>108232</td>\n",
       "      <td>753100</td>\n",
       "      <td>7531</td>\n",
       "      <td>Academy of Art University</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>CA</td>\n",
       "      <td>94105</td>\n",
       "      <td>Accrediting Council for Independent Colleges a...</td>\n",
       "      <td>www.academyart.edu</td>\n",
       "      <td>npc.collegeboard.org/student/app/academyart</td>\n",
       "      <td>...</td>\n",
       "      <td>0.510609723341</td>\n",
       "      <td>0.629360465116</td>\n",
       "      <td>0.559076923077</td>\n",
       "      <td>0.544546544147</td>\n",
       "      <td>0.543950361944</td>\n",
       "      <td>0.572957198444</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.31727816593886</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.3620723076923</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>205</th>\n",
       "      <td>108852</td>\n",
       "      <td>746501</td>\n",
       "      <td>7465</td>\n",
       "      <td>American Academy of Dramatic Arts-Los Angeles</td>\n",
       "      <td>Los Angeles</td>\n",
       "      <td>CA</td>\n",
       "      <td>90028</td>\n",
       "      <td>NaN</td>\n",
       "      <td>WWW.AADA.EDU</td>\n",
       "      <td>www.aada.edu/admissions/costs.html</td>\n",
       "      <td>...</td>\n",
       "      <td>0.663551401869</td>\n",
       "      <td>0.710144927536</td>\n",
       "      <td>0.771084337349</td>\n",
       "      <td>0.602150537634</td>\n",
       "      <td>0.710526315789</td>\n",
       "      <td>0.674603174603</td>\n",
       "      <td>0.598746</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.63475478260869</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>207</th>\n",
       "      <td>108870</td>\n",
       "      <td>2222000</td>\n",
       "      <td>22220</td>\n",
       "      <td>American Film Institute Conservatory</td>\n",
       "      <td>Los Angeles</td>\n",
       "      <td>CA</td>\n",
       "      <td>90027-1625</td>\n",
       "      <td>National Association of Schools of Art and Des...</td>\n",
       "      <td>www.AFI.com</td>\n",
       "      <td>www.afi.com/conservatory/admissions/fa_cost.aspx</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>209</th>\n",
       "      <td>109040</td>\n",
       "      <td>2241800</td>\n",
       "      <td>22418</td>\n",
       "      <td>American Career College-Los Angeles</td>\n",
       "      <td>Los Angeles</td>\n",
       "      <td>CA</td>\n",
       "      <td>90004</td>\n",
       "      <td>Accrediting Bureau of Health Education Schools...</td>\n",
       "      <td>americancareercollege.edu/</td>\n",
       "      <td>americancareercollege.edu/getting-started/fina...</td>\n",
       "      <td>...</td>\n",
       "      <td>0.51066098081</td>\n",
       "      <td>0.700811359026</td>\n",
       "      <td>0.542132587859</td>\n",
       "      <td>0.528195488722</td>\n",
       "      <td>0.540780827213</td>\n",
       "      <td>0.577024880889</td>\n",
       "      <td>0.653942</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.73732663316582</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>210</th>\n",
       "      <td>109086</td>\n",
       "      <td>2099200</td>\n",
       "      <td>20992</td>\n",
       "      <td>American Conservatory Theater</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>CA</td>\n",
       "      <td>94108-5834</td>\n",
       "      <td>Western Association of Schools and Colleges Se...</td>\n",
       "      <td>www.act-sf.org</td>\n",
       "      <td>www.actaccess.org/netpricecalculator/npcalc.htm</td>\n",
       "      <td>...</td>\n",
       "      <td>PrivacySuppressed</td>\n",
       "      <td>PrivacySuppressed</td>\n",
       "      <td>PrivacySuppressed</td>\n",
       "      <td>PrivacySuppressed</td>\n",
       "      <td>PrivacySuppressed</td>\n",
       "      <td>PrivacySuppressed</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7733</th>\n",
       "      <td>44936601</td>\n",
       "      <td>4092401</td>\n",
       "      <td>40924</td>\n",
       "      <td>Make-up Designory</td>\n",
       "      <td>New York</td>\n",
       "      <td>NY</td>\n",
       "      <td>10012</td>\n",
       "      <td>NaN</td>\n",
       "      <td>http://www.mud.edu</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>0.819875776398</td>\n",
       "      <td>0.927710843373</td>\n",
       "      <td>0.87417218543</td>\n",
       "      <td>PrivacySuppressed</td>\n",
       "      <td>0.906779661017</td>\n",
       "      <td>0.867088607595</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7774</th>\n",
       "      <td>45897302</td>\n",
       "      <td>145992</td>\n",
       "      <td>1459</td>\n",
       "      <td>Strayer University-Katy</td>\n",
       "      <td>Houston</td>\n",
       "      <td>TX</td>\n",
       "      <td>77079</td>\n",
       "      <td>NaN</td>\n",
       "      <td>http://www.strayer.edu/texas/katy</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>0.389044467074</td>\n",
       "      <td>0.596370023419</td>\n",
       "      <td>0.446480804388</td>\n",
       "      <td>0.438584177279</td>\n",
       "      <td>0.442519926426</td>\n",
       "      <td>0.468221574344</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7775</th>\n",
       "      <td>45897303</td>\n",
       "      <td>145994</td>\n",
       "      <td>1459</td>\n",
       "      <td>Strayer University-Northwest Houston</td>\n",
       "      <td>Houston</td>\n",
       "      <td>TX</td>\n",
       "      <td>77064</td>\n",
       "      <td>NaN</td>\n",
       "      <td>http://www.strayer.edu/texas/northwest-houston</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>0.389044467074</td>\n",
       "      <td>0.596370023419</td>\n",
       "      <td>0.446480804388</td>\n",
       "      <td>0.438584177279</td>\n",
       "      <td>0.442519926426</td>\n",
       "      <td>0.468221574344</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7778</th>\n",
       "      <td>45897306</td>\n",
       "      <td>10145901</td>\n",
       "      <td>1459</td>\n",
       "      <td>Strayer University-North Dallas</td>\n",
       "      <td>Dallas</td>\n",
       "      <td>TX</td>\n",
       "      <td>75251</td>\n",
       "      <td>NaN</td>\n",
       "      <td>http://http://www.strayer.edu/texas/north-dallas</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>0.389044467074</td>\n",
       "      <td>0.596370023419</td>\n",
       "      <td>0.446480804388</td>\n",
       "      <td>0.438584177279</td>\n",
       "      <td>0.442519926426</td>\n",
       "      <td>0.468221574344</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7789</th>\n",
       "      <td>47691101</td>\n",
       "      <td>4205801</td>\n",
       "      <td>42058</td>\n",
       "      <td>SAE Institute of Technology San Francisco</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>CA</td>\n",
       "      <td>941071303</td>\n",
       "      <td>NaN</td>\n",
       "      <td>http://sae.edu</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>540 rows × 1729 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "        UNITID     OPEID  opeid6  \\\n",
       "198     108232    753100    7531   \n",
       "205     108852    746501    7465   \n",
       "207     108870   2222000   22220   \n",
       "209     109040   2241800   22418   \n",
       "210     109086   2099200   20992   \n",
       "...        ...       ...     ...   \n",
       "7733  44936601   4092401   40924   \n",
       "7774  45897302    145992    1459   \n",
       "7775  45897303    145994    1459   \n",
       "7778  45897306  10145901    1459   \n",
       "7789  47691101   4205801   42058   \n",
       "\n",
       "                                             INSTNM           CITY STABBR  \\\n",
       "198                       Academy of Art University  San Francisco     CA   \n",
       "205   American Academy of Dramatic Arts-Los Angeles    Los Angeles     CA   \n",
       "207            American Film Institute Conservatory    Los Angeles     CA   \n",
       "209             American Career College-Los Angeles    Los Angeles     CA   \n",
       "210                   American Conservatory Theater  San Francisco     CA   \n",
       "...                                             ...            ...    ...   \n",
       "7733                              Make-up Designory       New York     NY   \n",
       "7774                        Strayer University-Katy        Houston     TX   \n",
       "7775           Strayer University-Northwest Houston        Houston     TX   \n",
       "7778                Strayer University-North Dallas         Dallas     TX   \n",
       "7789      SAE Institute of Technology San Francisco  San Francisco     CA   \n",
       "\n",
       "             ZIP                                       AccredAgency  \\\n",
       "198        94105  Accrediting Council for Independent Colleges a...   \n",
       "205        90028                                                NaN   \n",
       "207   90027-1625  National Association of Schools of Art and Des...   \n",
       "209        90004  Accrediting Bureau of Health Education Schools...   \n",
       "210   94108-5834  Western Association of Schools and Colleges Se...   \n",
       "...          ...                                                ...   \n",
       "7733       10012                                                NaN   \n",
       "7774       77079                                                NaN   \n",
       "7775       77064                                                NaN   \n",
       "7778       75251                                                NaN   \n",
       "7789   941071303                                                NaN   \n",
       "\n",
       "                                               INSTURL  \\\n",
       "198                                 www.academyart.edu   \n",
       "205                                       WWW.AADA.EDU   \n",
       "207                                        www.AFI.com   \n",
       "209                         americancareercollege.edu/   \n",
       "210                                     www.act-sf.org   \n",
       "...                                                ...   \n",
       "7733                                http://www.mud.edu   \n",
       "7774                 http://www.strayer.edu/texas/katy   \n",
       "7775    http://www.strayer.edu/texas/northwest-houston   \n",
       "7778  http://http://www.strayer.edu/texas/north-dallas   \n",
       "7789                                    http://sae.edu   \n",
       "\n",
       "                                                 NPCURL  ...  \\\n",
       "198         npc.collegeboard.org/student/app/academyart  ...   \n",
       "205                  www.aada.edu/admissions/costs.html  ...   \n",
       "207    www.afi.com/conservatory/admissions/fa_cost.aspx  ...   \n",
       "209   americancareercollege.edu/getting-started/fina...  ...   \n",
       "210     www.actaccess.org/netpricecalculator/npcalc.htm  ...   \n",
       "...                                                 ...  ...   \n",
       "7733                                                NaN  ...   \n",
       "7774                                                NaN  ...   \n",
       "7775                                                NaN  ...   \n",
       "7778                                                NaN  ...   \n",
       "7789                                                NaN  ...   \n",
       "\n",
       "      PELL_RPY_3YR_RT_SUPP  NOPELL_RPY_3YR_RT_SUPP  FEMALE_RPY_3YR_RT_SUPP  \\\n",
       "198         0.510609723341          0.629360465116          0.559076923077   \n",
       "205         0.663551401869          0.710144927536          0.771084337349   \n",
       "207                    NaN                     NaN                     NaN   \n",
       "209          0.51066098081          0.700811359026          0.542132587859   \n",
       "210      PrivacySuppressed       PrivacySuppressed       PrivacySuppressed   \n",
       "...                    ...                     ...                     ...   \n",
       "7733        0.819875776398          0.927710843373           0.87417218543   \n",
       "7774        0.389044467074          0.596370023419          0.446480804388   \n",
       "7775        0.389044467074          0.596370023419          0.446480804388   \n",
       "7778        0.389044467074          0.596370023419          0.446480804388   \n",
       "7789                   NaN                     NaN                     NaN   \n",
       "\n",
       "      MALE_RPY_3YR_RT_SUPP  FIRSTGEN_RPY_3YR_RT_SUPP  \\\n",
       "198         0.544546544147            0.543950361944   \n",
       "205         0.602150537634            0.710526315789   \n",
       "207                    NaN                       NaN   \n",
       "209         0.528195488722            0.540780827213   \n",
       "210      PrivacySuppressed         PrivacySuppressed   \n",
       "...                    ...                       ...   \n",
       "7733     PrivacySuppressed            0.906779661017   \n",
       "7774        0.438584177279            0.442519926426   \n",
       "7775        0.438584177279            0.442519926426   \n",
       "7778        0.438584177279            0.442519926426   \n",
       "7789                   NaN                       NaN   \n",
       "\n",
       "      NOTFIRSTGEN_RPY_3YR_RT_SUPP  C150_L4_POOLED_SUPP  C150_4_POOLED_SUPP  \\\n",
       "198                0.572957198444                  NaN    0.31727816593886   \n",
       "205                0.674603174603             0.598746                 NaN   \n",
       "207                           NaN                  NaN                 NaN   \n",
       "209                0.577024880889             0.653942                 NaN   \n",
       "210             PrivacySuppressed                  NaN                 NaN   \n",
       "...                           ...                  ...                 ...   \n",
       "7733               0.867088607595                  NaN                 NaN   \n",
       "7774               0.468221574344                  NaN                 NaN   \n",
       "7775               0.468221574344                  NaN                 NaN   \n",
       "7778               0.468221574344                  NaN                 NaN   \n",
       "7789                          NaN                  NaN                 NaN   \n",
       "\n",
       "      C200_L4_POOLED_SUPP  C200_4_POOLED_SUPP  \n",
       "198                   NaN     0.3620723076923  \n",
       "205      0.63475478260869                 NaN  \n",
       "207                   NaN                 NaN  \n",
       "209      0.73732663316582                 NaN  \n",
       "210                   NaN                 NaN  \n",
       "...                   ...                 ...  \n",
       "7733                  NaN                 NaN  \n",
       "7774                  NaN                 NaN  \n",
       "7775                  NaN                 NaN  \n",
       "7778                  NaN                 NaN  \n",
       "7789                  NaN                 NaN  \n",
       "\n",
       "[540 rows x 1729 columns]"
      ]
     },
     "execution_count": 423,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Extract universities located in selected big cities.\n",
    "UrbanCollege = ACAdata.loc[(ACAdata['CITY'] == \"New York\") | (ACAdata['CITY'] == \"Los Angeles\" ) | (ACAdata['CITY'] == \"Chicago\" ) | (ACAdata['CITY'] == \"Houston\") | (ACAdata['CITY'] == \"Phonenix\" ) | (ACAdata['CITY'] == \"Philadelphia\" )  | (ACAdata['CITY'] == \"San Diego\" ) | (ACAdata['CITY'] == \"Dallas\" ) | (ACAdata['CITY'] == \"Boston\" ) | (ACAdata['CITY'] == \"Seattle\") | (ACAdata['CITY'] == \"San Francisco\") | (ACAdata['CITY'] == \"Washington D.C.\") | (ACAdata['CITY'] == \"Denver\")]\n",
    "UrbanCollege"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "a252af7d",
   "metadata": {},
   "source": [
    "####  Quality"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 424,
   "id": "e4faada8",
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>INSTNM</th>\n",
       "      <th>CITY</th>\n",
       "      <th>PCIP13</th>\n",
       "      <th>CIP13BACHL</th>\n",
       "      <th>ADM_RATE_ALL</th>\n",
       "      <th>RET_FT4</th>\n",
       "      <th>RET_PT4</th>\n",
       "      <th>RET_FTL4</th>\n",
       "      <th>RET_PTL4</th>\n",
       "      <th>C150_4</th>\n",
       "      <th>...</th>\n",
       "      <th>C150_4_POOLED</th>\n",
       "      <th>C150_4_POOLED_SUPP</th>\n",
       "      <th>C200_4_POOLED_SUPP</th>\n",
       "      <th>CDR3</th>\n",
       "      <th>NOPELL_RPY_3YR_RT</th>\n",
       "      <th>PELL_RPY_3YR_RT</th>\n",
       "      <th>GRAD_DEBT_MDN</th>\n",
       "      <th>WDRAW_DEBT_MDN</th>\n",
       "      <th>INEXPFTE</th>\n",
       "      <th>AVGFACSAL</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>198</th>\n",
       "      <td>Academy of Art University</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>0.0</td>\n",
       "      <td>2.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.71</td>\n",
       "      <td>0.4131</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.3188</td>\n",
       "      <td>...</td>\n",
       "      <td>0.317278</td>\n",
       "      <td>0.31727816593886</td>\n",
       "      <td>0.3620723076923</td>\n",
       "      <td>0.155</td>\n",
       "      <td>PrivacySuppressed</td>\n",
       "      <td>0.510609723341</td>\n",
       "      <td>34000</td>\n",
       "      <td>12079.5</td>\n",
       "      <td>7291.0</td>\n",
       "      <td>7062.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>205</th>\n",
       "      <td>American Academy of Dramatic Arts-Los Angeles</td>\n",
       "      <td>Los Angeles</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.2837</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.6330</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.130</td>\n",
       "      <td>0.710144927536</td>\n",
       "      <td>0.663551401869</td>\n",
       "      <td>13240</td>\n",
       "      <td>5500</td>\n",
       "      <td>5835.0</td>\n",
       "      <td>6567.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>207</th>\n",
       "      <td>American Film Institute Conservatory</td>\n",
       "      <td>Los Angeles</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.014</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>PrivacySuppressed</td>\n",
       "      <td>PrivacySuppressed</td>\n",
       "      <td>6739.0</td>\n",
       "      <td>6829.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>209</th>\n",
       "      <td>American Career College-Los Angeles</td>\n",
       "      <td>Los Angeles</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.6411</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.074</td>\n",
       "      <td>PrivacySuppressed</td>\n",
       "      <td>0.51066098081</td>\n",
       "      <td>9500</td>\n",
       "      <td>5479</td>\n",
       "      <td>6902.0</td>\n",
       "      <td>5222.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>210</th>\n",
       "      <td>American Conservatory Theater</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.023</td>\n",
       "      <td>NaN</td>\n",
       "      <td>PrivacySuppressed</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>21970.0</td>\n",
       "      <td>8434.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7733</th>\n",
       "      <td>Make-up Designory</td>\n",
       "      <td>New York</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.065</td>\n",
       "      <td>0.927710843373</td>\n",
       "      <td>0.819875776398</td>\n",
       "      <td>4962</td>\n",
       "      <td>4286</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7774</th>\n",
       "      <td>Strayer University-Katy</td>\n",
       "      <td>Houston</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.149</td>\n",
       "      <td>0.596370023419</td>\n",
       "      <td>0.389044467074</td>\n",
       "      <td>39499.5</td>\n",
       "      <td>9896</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7775</th>\n",
       "      <td>Strayer University-Northwest Houston</td>\n",
       "      <td>Houston</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.149</td>\n",
       "      <td>0.596370023419</td>\n",
       "      <td>0.389044467074</td>\n",
       "      <td>39499.5</td>\n",
       "      <td>9896</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7778</th>\n",
       "      <td>Strayer University-North Dallas</td>\n",
       "      <td>Dallas</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.149</td>\n",
       "      <td>0.596370023419</td>\n",
       "      <td>0.389044467074</td>\n",
       "      <td>39499.5</td>\n",
       "      <td>9896</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7789</th>\n",
       "      <td>SAE Institute of Technology San Francisco</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.000</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>9500</td>\n",
       "      <td>4750</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>540 rows × 22 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                                             INSTNM           CITY  PCIP13  \\\n",
       "198                       Academy of Art University  San Francisco     0.0   \n",
       "205   American Academy of Dramatic Arts-Los Angeles    Los Angeles     0.0   \n",
       "207            American Film Institute Conservatory    Los Angeles     NaN   \n",
       "209             American Career College-Los Angeles    Los Angeles     0.0   \n",
       "210                   American Conservatory Theater  San Francisco     0.0   \n",
       "...                                             ...            ...     ...   \n",
       "7733                              Make-up Designory       New York     NaN   \n",
       "7774                        Strayer University-Katy        Houston     NaN   \n",
       "7775           Strayer University-Northwest Houston        Houston     NaN   \n",
       "7778                Strayer University-North Dallas         Dallas     NaN   \n",
       "7789      SAE Institute of Technology San Francisco  San Francisco     NaN   \n",
       "\n",
       "      CIP13BACHL  ADM_RATE_ALL  RET_FT4  RET_PT4  RET_FTL4  RET_PTL4  C150_4  \\\n",
       "198          2.0           NaN     0.71   0.4131       NaN       NaN  0.3188   \n",
       "205          0.0        0.2837      NaN      NaN    0.6330       NaN     NaN   \n",
       "207          0.0           NaN      NaN      NaN       NaN       NaN     NaN   \n",
       "209          0.0           NaN      NaN      NaN    0.6411       NaN     NaN   \n",
       "210          0.0           NaN      NaN      NaN       NaN       NaN     NaN   \n",
       "...          ...           ...      ...      ...       ...       ...     ...   \n",
       "7733         NaN           NaN      NaN      NaN       NaN       NaN     NaN   \n",
       "7774         NaN           NaN      NaN      NaN       NaN       NaN     NaN   \n",
       "7775         NaN           NaN      NaN      NaN       NaN       NaN     NaN   \n",
       "7778         NaN           NaN      NaN      NaN       NaN       NaN     NaN   \n",
       "7789         NaN           NaN      NaN      NaN       NaN       NaN     NaN   \n",
       "\n",
       "      ...  C150_4_POOLED  C150_4_POOLED_SUPP  C200_4_POOLED_SUPP   CDR3  \\\n",
       "198   ...       0.317278    0.31727816593886     0.3620723076923  0.155   \n",
       "205   ...            NaN                 NaN                 NaN  0.130   \n",
       "207   ...            NaN                 NaN                 NaN  0.014   \n",
       "209   ...            NaN                 NaN                 NaN  0.074   \n",
       "210   ...            NaN                 NaN                 NaN  0.023   \n",
       "...   ...            ...                 ...                 ...    ...   \n",
       "7733  ...            NaN                 NaN                 NaN  0.065   \n",
       "7774  ...            NaN                 NaN                 NaN  0.149   \n",
       "7775  ...            NaN                 NaN                 NaN  0.149   \n",
       "7778  ...            NaN                 NaN                 NaN  0.149   \n",
       "7789  ...            NaN                 NaN                 NaN  0.000   \n",
       "\n",
       "      NOPELL_RPY_3YR_RT    PELL_RPY_3YR_RT      GRAD_DEBT_MDN  \\\n",
       "198   PrivacySuppressed     0.510609723341              34000   \n",
       "205      0.710144927536     0.663551401869              13240   \n",
       "207                 NaN                NaN  PrivacySuppressed   \n",
       "209   PrivacySuppressed      0.51066098081               9500   \n",
       "210                 NaN  PrivacySuppressed                NaN   \n",
       "...                 ...                ...                ...   \n",
       "7733     0.927710843373     0.819875776398               4962   \n",
       "7774     0.596370023419     0.389044467074            39499.5   \n",
       "7775     0.596370023419     0.389044467074            39499.5   \n",
       "7778     0.596370023419     0.389044467074            39499.5   \n",
       "7789                NaN                NaN               9500   \n",
       "\n",
       "         WDRAW_DEBT_MDN INEXPFTE AVGFACSAL  \n",
       "198             12079.5   7291.0    7062.0  \n",
       "205                5500   5835.0    6567.0  \n",
       "207   PrivacySuppressed   6739.0    6829.0  \n",
       "209                5479   6902.0    5222.0  \n",
       "210                 NaN  21970.0    8434.0  \n",
       "...                 ...      ...       ...  \n",
       "7733               4286      NaN       NaN  \n",
       "7774               9896      NaN       NaN  \n",
       "7775               9896      NaN       NaN  \n",
       "7778               9896      NaN       NaN  \n",
       "7789               4750      NaN       NaN  \n",
       "\n",
       "[540 rows x 22 columns]"
      ]
     },
     "execution_count": 424,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# select variables from quality aspect\n",
    "quality = UrbanCollege[['INSTNM', 'CITY', 'PCIP13', 'CIP13BACHL', 'ADM_RATE_ALL', 'RET_FT4', 'RET_PT4', 'RET_FTL4', 'RET_PTL4', 'C150_4', 'C200_4', 'C200_L4', 'C150_4_POOLED', 'C150_4_POOLED_SUPP', 'C200_4_POOLED_SUPP', 'CDR3', 'NOPELL_RPY_3YR_RT', 'PELL_RPY_3YR_RT', 'GRAD_DEBT_MDN', 'WDRAW_DEBT_MDN', 'INEXPFTE', 'AVGFACSAL']]\n",
    "quality"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 425,
   "id": "48b49f04",
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "<ipython-input-425-f1d13e2a66ba>:2: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  quality['admissionraterank']=quality['ADM_RATE_ALL'].rank()\n",
      "<ipython-input-425-f1d13e2a66ba>:3: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  quality['retentionrate1rank']=quality['RET_FT4'].rank(ascending = False)\n",
      "<ipython-input-425-f1d13e2a66ba>:4: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  quality['retentionrate2rank']=quality['RET_PT4'].rank(ascending = False)\n",
      "<ipython-input-425-f1d13e2a66ba>:5: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  quality['retentionrate3rank']=quality['RET_FTL4'].rank(ascending = False)\n",
      "<ipython-input-425-f1d13e2a66ba>:6: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  quality['retentionrate4rank']=quality['RET_PTL4'].rank(ascending = False)\n",
      "<ipython-input-425-f1d13e2a66ba>:7: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  quality['completionrate1rank']=quality['C150_4'].rank(ascending = False)\n",
      "<ipython-input-425-f1d13e2a66ba>:8: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  quality['completionrate2rank']=quality['C200_4'].rank(ascending = False)\n",
      "<ipython-input-425-f1d13e2a66ba>:10: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  quality['CDR3rank'] = quality ['CDR3'].rank()\n",
      "<ipython-input-425-f1d13e2a66ba>:11: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  quality['GRAD_DEBT_MDNrank'] = quality ['GRAD_DEBT_MDN'].rank(ascending = False)\n",
      "<ipython-input-425-f1d13e2a66ba>:12: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  quality['WDRAW_DEBT_MDNrank'] = quality ['WDRAW_DEBT_MDN'].rank()\n",
      "<ipython-input-425-f1d13e2a66ba>:13: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  quality['Revenuendcostofschool1rank']=quality['INEXPFTE'].rank()\n",
      "<ipython-input-425-f1d13e2a66ba>:14: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  quality['Revenuendcostofschool2rank']=quality['AVGFACSAL'].rank()\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>INSTNM</th>\n",
       "      <th>CITY</th>\n",
       "      <th>PCIP13</th>\n",
       "      <th>CIP13BACHL</th>\n",
       "      <th>ADM_RATE_ALL</th>\n",
       "      <th>RET_FT4</th>\n",
       "      <th>RET_PT4</th>\n",
       "      <th>RET_FTL4</th>\n",
       "      <th>RET_PTL4</th>\n",
       "      <th>C150_4</th>\n",
       "      <th>...</th>\n",
       "      <th>retentionrate2rank</th>\n",
       "      <th>retentionrate3rank</th>\n",
       "      <th>retentionrate4rank</th>\n",
       "      <th>completionrate1rank</th>\n",
       "      <th>completionrate2rank</th>\n",
       "      <th>CDR3rank</th>\n",
       "      <th>GRAD_DEBT_MDNrank</th>\n",
       "      <th>WDRAW_DEBT_MDNrank</th>\n",
       "      <th>Revenuendcostofschool1rank</th>\n",
       "      <th>Revenuendcostofschool2rank</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>198</th>\n",
       "      <td>Academy of Art University</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>0.0</td>\n",
       "      <td>2.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.71</td>\n",
       "      <td>0.4131</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.3188</td>\n",
       "      <td>...</td>\n",
       "      <td>69.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>137.0</td>\n",
       "      <td>117.0</td>\n",
       "      <td>368.0</td>\n",
       "      <td>211.0</td>\n",
       "      <td>56.0</td>\n",
       "      <td>324.0</td>\n",
       "      <td>212.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>205</th>\n",
       "      <td>American Academy of Dramatic Arts-Los Angeles</td>\n",
       "      <td>Los Angeles</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.2837</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.6330</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>150.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>332.5</td>\n",
       "      <td>421.5</td>\n",
       "      <td>283.5</td>\n",
       "      <td>267.5</td>\n",
       "      <td>182.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>207</th>\n",
       "      <td>American Film Institute Conservatory</td>\n",
       "      <td>Los Angeles</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>86.0</td>\n",
       "      <td>26.5</td>\n",
       "      <td>440.5</td>\n",
       "      <td>302.0</td>\n",
       "      <td>198.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>209</th>\n",
       "      <td>American Career College-Los Angeles</td>\n",
       "      <td>Los Angeles</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.6411</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>140.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>237.0</td>\n",
       "      <td>87.0</td>\n",
       "      <td>268.0</td>\n",
       "      <td>312.0</td>\n",
       "      <td>110.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>210</th>\n",
       "      <td>American Conservatory Theater</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>114.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>470.0</td>\n",
       "      <td>273.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7733</th>\n",
       "      <td>Make-up Designory</td>\n",
       "      <td>New York</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>219.0</td>\n",
       "      <td>174.0</td>\n",
       "      <td>188.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7774</th>\n",
       "      <td>Strayer University-Katy</td>\n",
       "      <td>Houston</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>357.0</td>\n",
       "      <td>193.0</td>\n",
       "      <td>405.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7775</th>\n",
       "      <td>Strayer University-Northwest Houston</td>\n",
       "      <td>Houston</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>357.0</td>\n",
       "      <td>193.0</td>\n",
       "      <td>405.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7778</th>\n",
       "      <td>Strayer University-North Dallas</td>\n",
       "      <td>Dallas</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>357.0</td>\n",
       "      <td>193.0</td>\n",
       "      <td>405.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7789</th>\n",
       "      <td>SAE Institute of Technology San Francisco</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>35.0</td>\n",
       "      <td>87.0</td>\n",
       "      <td>232.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>540 rows × 34 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                                             INSTNM           CITY  PCIP13  \\\n",
       "198                       Academy of Art University  San Francisco     0.0   \n",
       "205   American Academy of Dramatic Arts-Los Angeles    Los Angeles     0.0   \n",
       "207            American Film Institute Conservatory    Los Angeles     NaN   \n",
       "209             American Career College-Los Angeles    Los Angeles     0.0   \n",
       "210                   American Conservatory Theater  San Francisco     0.0   \n",
       "...                                             ...            ...     ...   \n",
       "7733                              Make-up Designory       New York     NaN   \n",
       "7774                        Strayer University-Katy        Houston     NaN   \n",
       "7775           Strayer University-Northwest Houston        Houston     NaN   \n",
       "7778                Strayer University-North Dallas         Dallas     NaN   \n",
       "7789      SAE Institute of Technology San Francisco  San Francisco     NaN   \n",
       "\n",
       "      CIP13BACHL  ADM_RATE_ALL  RET_FT4  RET_PT4  RET_FTL4  RET_PTL4  C150_4  \\\n",
       "198          2.0           NaN     0.71   0.4131       NaN       NaN  0.3188   \n",
       "205          0.0        0.2837      NaN      NaN    0.6330       NaN     NaN   \n",
       "207          0.0           NaN      NaN      NaN       NaN       NaN     NaN   \n",
       "209          0.0           NaN      NaN      NaN    0.6411       NaN     NaN   \n",
       "210          0.0           NaN      NaN      NaN       NaN       NaN     NaN   \n",
       "...          ...           ...      ...      ...       ...       ...     ...   \n",
       "7733         NaN           NaN      NaN      NaN       NaN       NaN     NaN   \n",
       "7774         NaN           NaN      NaN      NaN       NaN       NaN     NaN   \n",
       "7775         NaN           NaN      NaN      NaN       NaN       NaN     NaN   \n",
       "7778         NaN           NaN      NaN      NaN       NaN       NaN     NaN   \n",
       "7789         NaN           NaN      NaN      NaN       NaN       NaN     NaN   \n",
       "\n",
       "      ...  retentionrate2rank  retentionrate3rank  retentionrate4rank  \\\n",
       "198   ...                69.0                 NaN                 NaN   \n",
       "205   ...                 NaN               150.0                 NaN   \n",
       "207   ...                 NaN                 NaN                 NaN   \n",
       "209   ...                 NaN               140.0                 NaN   \n",
       "210   ...                 NaN                 NaN                 NaN   \n",
       "...   ...                 ...                 ...                 ...   \n",
       "7733  ...                 NaN                 NaN                 NaN   \n",
       "7774  ...                 NaN                 NaN                 NaN   \n",
       "7775  ...                 NaN                 NaN                 NaN   \n",
       "7778  ...                 NaN                 NaN                 NaN   \n",
       "7789  ...                 NaN                 NaN                 NaN   \n",
       "\n",
       "     completionrate1rank completionrate2rank  CDR3rank GRAD_DEBT_MDNrank  \\\n",
       "198                137.0               117.0     368.0             211.0   \n",
       "205                  NaN                 NaN     332.5             421.5   \n",
       "207                  NaN                 NaN      86.0              26.5   \n",
       "209                  NaN                 NaN     237.0              87.0   \n",
       "210                  NaN                 NaN     114.0               NaN   \n",
       "...                  ...                 ...       ...               ...   \n",
       "7733                 NaN                 NaN     219.0             174.0   \n",
       "7774                 NaN                 NaN     357.0             193.0   \n",
       "7775                 NaN                 NaN     357.0             193.0   \n",
       "7778                 NaN                 NaN     357.0             193.0   \n",
       "7789                 NaN                 NaN      35.0              87.0   \n",
       "\n",
       "     WDRAW_DEBT_MDNrank Revenuendcostofschool1rank Revenuendcostofschool2rank  \n",
       "198                56.0                      324.0                      212.0  \n",
       "205               283.5                      267.5                      182.0  \n",
       "207               440.5                      302.0                      198.0  \n",
       "209               268.0                      312.0                      110.0  \n",
       "210                 NaN                      470.0                      273.0  \n",
       "...                 ...                        ...                        ...  \n",
       "7733              188.0                        NaN                        NaN  \n",
       "7774              405.0                        NaN                        NaN  \n",
       "7775              405.0                        NaN                        NaN  \n",
       "7778              405.0                        NaN                        NaN  \n",
       "7789              232.0                        NaN                        NaN  \n",
       "\n",
       "[540 rows x 34 columns]"
      ]
     },
     "execution_count": 425,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# rank each variables in ascending or descending order\n",
    "quality['admissionraterank']=quality['ADM_RATE_ALL'].rank()\n",
    "quality['retentionrate1rank']=quality['RET_FT4'].rank(ascending = False)\n",
    "quality['retentionrate2rank']=quality['RET_PT4'].rank(ascending = False)\n",
    "quality['retentionrate3rank']=quality['RET_FTL4'].rank(ascending = False)\n",
    "quality['retentionrate4rank']=quality['RET_PTL4'].rank(ascending = False)\n",
    "quality['completionrate1rank']=quality['C150_4'].rank(ascending = False)\n",
    "quality['completionrate2rank']=quality['C200_4'].rank(ascending = False)\n",
    "\n",
    "quality['CDR3rank'] = quality ['CDR3'].rank()\n",
    "quality['GRAD_DEBT_MDNrank'] = quality ['GRAD_DEBT_MDN'].rank(ascending = False)\n",
    "quality['WDRAW_DEBT_MDNrank'] = quality ['WDRAW_DEBT_MDN'].rank()\n",
    "quality['Revenuendcostofschool1rank']=quality['INEXPFTE'].rank()\n",
    "quality['Revenuendcostofschool2rank']=quality['AVGFACSAL'].rank()\n",
    "\n",
    "quality"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "6a101fff",
   "metadata": {},
   "source": [
    "#### Diversity"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 426,
   "id": "4b0b8446",
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>INSTNM</th>\n",
       "      <th>CITY</th>\n",
       "      <th>UGDS_WHITE</th>\n",
       "      <th>UGDS_BLACK</th>\n",
       "      <th>UGDS_HISP</th>\n",
       "      <th>UGDS_ASIAN</th>\n",
       "      <th>UGDS_AIAN</th>\n",
       "      <th>UGDS_NHPI</th>\n",
       "      <th>UGDS_2MOR</th>\n",
       "      <th>UGDS_NRA</th>\n",
       "      <th>UGDS_UNKN</th>\n",
       "      <th>PPTUG_EF</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>198</th>\n",
       "      <td>Academy of Art University</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>0.2625</td>\n",
       "      <td>0.0667</td>\n",
       "      <td>0.1042</td>\n",
       "      <td>0.0781</td>\n",
       "      <td>0.0050</td>\n",
       "      <td>0.0040</td>\n",
       "      <td>0.0256</td>\n",
       "      <td>0.2197</td>\n",
       "      <td>0.2342</td>\n",
       "      <td>0.4475</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>205</th>\n",
       "      <td>American Academy of Dramatic Arts-Los Angeles</td>\n",
       "      <td>Los Angeles</td>\n",
       "      <td>0.4612</td>\n",
       "      <td>0.0775</td>\n",
       "      <td>0.1512</td>\n",
       "      <td>0.0116</td>\n",
       "      <td>0.0233</td>\n",
       "      <td>0.0039</td>\n",
       "      <td>0.0271</td>\n",
       "      <td>0.2248</td>\n",
       "      <td>0.0194</td>\n",
       "      <td>0.0000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>207</th>\n",
       "      <td>American Film Institute Conservatory</td>\n",
       "      <td>Los Angeles</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>209</th>\n",
       "      <td>American Career College-Los Angeles</td>\n",
       "      <td>Los Angeles</td>\n",
       "      <td>0.0554</td>\n",
       "      <td>0.1638</td>\n",
       "      <td>0.6412</td>\n",
       "      <td>0.0712</td>\n",
       "      <td>0.0051</td>\n",
       "      <td>0.0136</td>\n",
       "      <td>0.0458</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0040</td>\n",
       "      <td>0.0000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>210</th>\n",
       "      <td>American Conservatory Theater</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7733</th>\n",
       "      <td>Make-up Designory</td>\n",
       "      <td>New York</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7774</th>\n",
       "      <td>Strayer University-Katy</td>\n",
       "      <td>Houston</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7775</th>\n",
       "      <td>Strayer University-Northwest Houston</td>\n",
       "      <td>Houston</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7778</th>\n",
       "      <td>Strayer University-North Dallas</td>\n",
       "      <td>Dallas</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7789</th>\n",
       "      <td>SAE Institute of Technology San Francisco</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>540 rows × 12 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                                             INSTNM           CITY  \\\n",
       "198                       Academy of Art University  San Francisco   \n",
       "205   American Academy of Dramatic Arts-Los Angeles    Los Angeles   \n",
       "207            American Film Institute Conservatory    Los Angeles   \n",
       "209             American Career College-Los Angeles    Los Angeles   \n",
       "210                   American Conservatory Theater  San Francisco   \n",
       "...                                             ...            ...   \n",
       "7733                              Make-up Designory       New York   \n",
       "7774                        Strayer University-Katy        Houston   \n",
       "7775           Strayer University-Northwest Houston        Houston   \n",
       "7778                Strayer University-North Dallas         Dallas   \n",
       "7789      SAE Institute of Technology San Francisco  San Francisco   \n",
       "\n",
       "      UGDS_WHITE  UGDS_BLACK  UGDS_HISP  UGDS_ASIAN  UGDS_AIAN  UGDS_NHPI  \\\n",
       "198       0.2625      0.0667     0.1042      0.0781     0.0050     0.0040   \n",
       "205       0.4612      0.0775     0.1512      0.0116     0.0233     0.0039   \n",
       "207          NaN         NaN        NaN         NaN        NaN        NaN   \n",
       "209       0.0554      0.1638     0.6412      0.0712     0.0051     0.0136   \n",
       "210       0.0000      0.0000     0.0000      0.0000     0.0000     0.0000   \n",
       "...          ...         ...        ...         ...        ...        ...   \n",
       "7733         NaN         NaN        NaN         NaN        NaN        NaN   \n",
       "7774         NaN         NaN        NaN         NaN        NaN        NaN   \n",
       "7775         NaN         NaN        NaN         NaN        NaN        NaN   \n",
       "7778         NaN         NaN        NaN         NaN        NaN        NaN   \n",
       "7789         NaN         NaN        NaN         NaN        NaN        NaN   \n",
       "\n",
       "      UGDS_2MOR  UGDS_NRA  UGDS_UNKN  PPTUG_EF  \n",
       "198      0.0256    0.2197     0.2342    0.4475  \n",
       "205      0.0271    0.2248     0.0194    0.0000  \n",
       "207         NaN       NaN        NaN       NaN  \n",
       "209      0.0458    0.0000     0.0040    0.0000  \n",
       "210      0.0000    0.0000     0.0000       NaN  \n",
       "...         ...       ...        ...       ...  \n",
       "7733        NaN       NaN        NaN       NaN  \n",
       "7774        NaN       NaN        NaN       NaN  \n",
       "7775        NaN       NaN        NaN       NaN  \n",
       "7778        NaN       NaN        NaN       NaN  \n",
       "7789        NaN       NaN        NaN       NaN  \n",
       "\n",
       "[540 rows x 12 columns]"
      ]
     },
     "execution_count": 426,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "diversity = UrbanCollege[['INSTNM', 'CITY', 'UGDS_WHITE', 'UGDS_BLACK', 'UGDS_HISP', 'UGDS_ASIAN', 'UGDS_AIAN', 'UGDS_NHPI', 'UGDS_2MOR', 'UGDS_NRA', 'UGDS_UNKN', 'PPTUG_EF']]\n",
    "diversity"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 427,
   "id": "80825ae9",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>INSTNM</th>\n",
       "      <th>CITY</th>\n",
       "      <th>UGDS_WHITE</th>\n",
       "      <th>UGDS_BLACK</th>\n",
       "      <th>UGDS_HISP</th>\n",
       "      <th>UGDS_ASIAN</th>\n",
       "      <th>UGDS_AIAN</th>\n",
       "      <th>UGDS_NHPI</th>\n",
       "      <th>UGDS_2MOR</th>\n",
       "      <th>UGDS_NRA</th>\n",
       "      <th>UGDS_UNKN</th>\n",
       "      <th>STD</th>\n",
       "      <th>racediversityrank</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>198</th>\n",
       "      <td>Academy of Art University</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>0.2625</td>\n",
       "      <td>0.0667</td>\n",
       "      <td>0.1042</td>\n",
       "      <td>0.0781</td>\n",
       "      <td>0.0050</td>\n",
       "      <td>0.0040</td>\n",
       "      <td>0.0256</td>\n",
       "      <td>0.2197</td>\n",
       "      <td>0.2342</td>\n",
       "      <td>0.101867</td>\n",
       "      <td>3.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>205</th>\n",
       "      <td>American Academy of Dramatic Arts-Los Angeles</td>\n",
       "      <td>Los Angeles</td>\n",
       "      <td>0.4612</td>\n",
       "      <td>0.0775</td>\n",
       "      <td>0.1512</td>\n",
       "      <td>0.0116</td>\n",
       "      <td>0.0233</td>\n",
       "      <td>0.0039</td>\n",
       "      <td>0.0271</td>\n",
       "      <td>0.2248</td>\n",
       "      <td>0.0194</td>\n",
       "      <td>0.151162</td>\n",
       "      <td>138.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>207</th>\n",
       "      <td>American Film Institute Conservatory</td>\n",
       "      <td>Los Angeles</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>209</th>\n",
       "      <td>American Career College-Los Angeles</td>\n",
       "      <td>Los Angeles</td>\n",
       "      <td>0.0554</td>\n",
       "      <td>0.1638</td>\n",
       "      <td>0.6412</td>\n",
       "      <td>0.0712</td>\n",
       "      <td>0.0051</td>\n",
       "      <td>0.0136</td>\n",
       "      <td>0.0458</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0040</td>\n",
       "      <td>0.205334</td>\n",
       "      <td>337.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>210</th>\n",
       "      <td>American Conservatory Theater</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>1.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7733</th>\n",
       "      <td>Make-up Designory</td>\n",
       "      <td>New York</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7774</th>\n",
       "      <td>Strayer University-Katy</td>\n",
       "      <td>Houston</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7775</th>\n",
       "      <td>Strayer University-Northwest Houston</td>\n",
       "      <td>Houston</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7778</th>\n",
       "      <td>Strayer University-North Dallas</td>\n",
       "      <td>Dallas</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7789</th>\n",
       "      <td>SAE Institute of Technology San Francisco</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>540 rows × 13 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                                             INSTNM           CITY  \\\n",
       "198                       Academy of Art University  San Francisco   \n",
       "205   American Academy of Dramatic Arts-Los Angeles    Los Angeles   \n",
       "207            American Film Institute Conservatory    Los Angeles   \n",
       "209             American Career College-Los Angeles    Los Angeles   \n",
       "210                   American Conservatory Theater  San Francisco   \n",
       "...                                             ...            ...   \n",
       "7733                              Make-up Designory       New York   \n",
       "7774                        Strayer University-Katy        Houston   \n",
       "7775           Strayer University-Northwest Houston        Houston   \n",
       "7778                Strayer University-North Dallas         Dallas   \n",
       "7789      SAE Institute of Technology San Francisco  San Francisco   \n",
       "\n",
       "      UGDS_WHITE  UGDS_BLACK  UGDS_HISP  UGDS_ASIAN  UGDS_AIAN  UGDS_NHPI  \\\n",
       "198       0.2625      0.0667     0.1042      0.0781     0.0050     0.0040   \n",
       "205       0.4612      0.0775     0.1512      0.0116     0.0233     0.0039   \n",
       "207          NaN         NaN        NaN         NaN        NaN        NaN   \n",
       "209       0.0554      0.1638     0.6412      0.0712     0.0051     0.0136   \n",
       "210       0.0000      0.0000     0.0000      0.0000     0.0000     0.0000   \n",
       "...          ...         ...        ...         ...        ...        ...   \n",
       "7733         NaN         NaN        NaN         NaN        NaN        NaN   \n",
       "7774         NaN         NaN        NaN         NaN        NaN        NaN   \n",
       "7775         NaN         NaN        NaN         NaN        NaN        NaN   \n",
       "7778         NaN         NaN        NaN         NaN        NaN        NaN   \n",
       "7789         NaN         NaN        NaN         NaN        NaN        NaN   \n",
       "\n",
       "      UGDS_2MOR  UGDS_NRA  UGDS_UNKN       STD  racediversityrank  \n",
       "198      0.0256    0.2197     0.2342  0.101867                3.0  \n",
       "205      0.0271    0.2248     0.0194  0.151162              138.0  \n",
       "207         NaN       NaN        NaN       NaN                NaN  \n",
       "209      0.0458    0.0000     0.0040  0.205334              337.0  \n",
       "210      0.0000    0.0000     0.0000  0.000000                1.0  \n",
       "...         ...       ...        ...       ...                ...  \n",
       "7733        NaN       NaN        NaN       NaN                NaN  \n",
       "7774        NaN       NaN        NaN       NaN                NaN  \n",
       "7775        NaN       NaN        NaN       NaN                NaN  \n",
       "7778        NaN       NaN        NaN       NaN                NaN  \n",
       "7789        NaN       NaN        NaN       NaN                NaN  \n",
       "\n",
       "[540 rows x 13 columns]"
      ]
     },
     "execution_count": 427,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# calculate race diversity based on standard deviation\n",
    "racediversity = diversity[['INSTNM', 'CITY', 'UGDS_WHITE', 'UGDS_BLACK', 'UGDS_HISP', 'UGDS_ASIAN', 'UGDS_AIAN', 'UGDS_NHPI', 'UGDS_2MOR', 'UGDS_NRA', 'UGDS_UNKN']]\n",
    "racediversity['STD'] = racediversity.std(axis=1)\n",
    "racediversity['racediversityrank'] = racediversity ['STD'].rank()\n",
    "racediversity"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 428,
   "id": "11b999b6",
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "<ipython-input-428-b711d184e855>:2: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  diversity ['parttimemean'] = diversity['PPTUG_EF'].mean()\n",
      "<ipython-input-428-b711d184e855>:4: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  parttime['difference'] = parttimediversity['PPTUG_EF'] - parttime['parttimemean']\n",
      "<ipython-input-428-b711d184e855>:5: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  parttime['absolutevalue'] = abs(parttime['difference'])\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>INSTNM</th>\n",
       "      <th>CITY</th>\n",
       "      <th>PPTUG_EF</th>\n",
       "      <th>parttimemean</th>\n",
       "      <th>difference</th>\n",
       "      <th>absolutevalue</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>198</th>\n",
       "      <td>Academy of Art University</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>0.4475</td>\n",
       "      <td>0.216565</td>\n",
       "      <td>0.230935</td>\n",
       "      <td>0.230935</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>205</th>\n",
       "      <td>American Academy of Dramatic Arts-Los Angeles</td>\n",
       "      <td>Los Angeles</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.216565</td>\n",
       "      <td>-0.216565</td>\n",
       "      <td>0.216565</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>207</th>\n",
       "      <td>American Film Institute Conservatory</td>\n",
       "      <td>Los Angeles</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.216565</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>209</th>\n",
       "      <td>American Career College-Los Angeles</td>\n",
       "      <td>Los Angeles</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.216565</td>\n",
       "      <td>-0.216565</td>\n",
       "      <td>0.216565</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>210</th>\n",
       "      <td>American Conservatory Theater</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.216565</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7733</th>\n",
       "      <td>Make-up Designory</td>\n",
       "      <td>New York</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.216565</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7774</th>\n",
       "      <td>Strayer University-Katy</td>\n",
       "      <td>Houston</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.216565</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7775</th>\n",
       "      <td>Strayer University-Northwest Houston</td>\n",
       "      <td>Houston</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.216565</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7778</th>\n",
       "      <td>Strayer University-North Dallas</td>\n",
       "      <td>Dallas</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.216565</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7789</th>\n",
       "      <td>SAE Institute of Technology San Francisco</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.216565</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>540 rows × 6 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                                             INSTNM           CITY  PPTUG_EF  \\\n",
       "198                       Academy of Art University  San Francisco    0.4475   \n",
       "205   American Academy of Dramatic Arts-Los Angeles    Los Angeles    0.0000   \n",
       "207            American Film Institute Conservatory    Los Angeles       NaN   \n",
       "209             American Career College-Los Angeles    Los Angeles    0.0000   \n",
       "210                   American Conservatory Theater  San Francisco       NaN   \n",
       "...                                             ...            ...       ...   \n",
       "7733                              Make-up Designory       New York       NaN   \n",
       "7774                        Strayer University-Katy        Houston       NaN   \n",
       "7775           Strayer University-Northwest Houston        Houston       NaN   \n",
       "7778                Strayer University-North Dallas         Dallas       NaN   \n",
       "7789      SAE Institute of Technology San Francisco  San Francisco       NaN   \n",
       "\n",
       "      parttimemean  difference  absolutevalue  \n",
       "198       0.216565    0.230935       0.230935  \n",
       "205       0.216565   -0.216565       0.216565  \n",
       "207       0.216565         NaN            NaN  \n",
       "209       0.216565   -0.216565       0.216565  \n",
       "210       0.216565         NaN            NaN  \n",
       "...            ...         ...            ...  \n",
       "7733      0.216565         NaN            NaN  \n",
       "7774      0.216565         NaN            NaN  \n",
       "7775      0.216565         NaN            NaN  \n",
       "7778      0.216565         NaN            NaN  \n",
       "7789      0.216565         NaN            NaN  \n",
       "\n",
       "[540 rows x 6 columns]"
      ]
     },
     "execution_count": 428,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# calculate the absolute value of difference to the mean of part-time students at each college\n",
    "diversity ['parttimemean'] = diversity['PPTUG_EF'].mean()\n",
    "parttime = diversity[['INSTNM', 'CITY', 'PPTUG_EF', 'parttimemean']]\n",
    "parttime['difference'] = parttimediversity['PPTUG_EF'] - parttime['parttimemean']\n",
    "parttime['absolutevalue'] = abs(parttime['difference'])\n",
    "parttime"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 429,
   "id": "3b6c0af9",
   "metadata": {
    "scrolled": false
   },
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "<ipython-input-429-a4edfdddee68>:2: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  parttime['parttimerank'] = parttime ['absolutevalue'].rank()\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>INSTNM</th>\n",
       "      <th>CITY</th>\n",
       "      <th>PPTUG_EF</th>\n",
       "      <th>parttimemean</th>\n",
       "      <th>difference</th>\n",
       "      <th>absolutevalue</th>\n",
       "      <th>parttimerank</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>198</th>\n",
       "      <td>Academy of Art University</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>0.4475</td>\n",
       "      <td>0.216565</td>\n",
       "      <td>0.230935</td>\n",
       "      <td>0.230935</td>\n",
       "      <td>374.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>205</th>\n",
       "      <td>American Academy of Dramatic Arts-Los Angeles</td>\n",
       "      <td>Los Angeles</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.216565</td>\n",
       "      <td>-0.216565</td>\n",
       "      <td>0.216565</td>\n",
       "      <td>297.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>207</th>\n",
       "      <td>American Film Institute Conservatory</td>\n",
       "      <td>Los Angeles</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.216565</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>209</th>\n",
       "      <td>American Career College-Los Angeles</td>\n",
       "      <td>Los Angeles</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.216565</td>\n",
       "      <td>-0.216565</td>\n",
       "      <td>0.216565</td>\n",
       "      <td>297.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>210</th>\n",
       "      <td>American Conservatory Theater</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.216565</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7733</th>\n",
       "      <td>Make-up Designory</td>\n",
       "      <td>New York</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.216565</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7774</th>\n",
       "      <td>Strayer University-Katy</td>\n",
       "      <td>Houston</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.216565</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7775</th>\n",
       "      <td>Strayer University-Northwest Houston</td>\n",
       "      <td>Houston</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.216565</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7778</th>\n",
       "      <td>Strayer University-North Dallas</td>\n",
       "      <td>Dallas</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.216565</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7789</th>\n",
       "      <td>SAE Institute of Technology San Francisco</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.216565</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>540 rows × 7 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                                             INSTNM           CITY  PPTUG_EF  \\\n",
       "198                       Academy of Art University  San Francisco    0.4475   \n",
       "205   American Academy of Dramatic Arts-Los Angeles    Los Angeles    0.0000   \n",
       "207            American Film Institute Conservatory    Los Angeles       NaN   \n",
       "209             American Career College-Los Angeles    Los Angeles    0.0000   \n",
       "210                   American Conservatory Theater  San Francisco       NaN   \n",
       "...                                             ...            ...       ...   \n",
       "7733                              Make-up Designory       New York       NaN   \n",
       "7774                        Strayer University-Katy        Houston       NaN   \n",
       "7775           Strayer University-Northwest Houston        Houston       NaN   \n",
       "7778                Strayer University-North Dallas         Dallas       NaN   \n",
       "7789      SAE Institute of Technology San Francisco  San Francisco       NaN   \n",
       "\n",
       "      parttimemean  difference  absolutevalue  parttimerank  \n",
       "198       0.216565    0.230935       0.230935         374.0  \n",
       "205       0.216565   -0.216565       0.216565         297.0  \n",
       "207       0.216565         NaN            NaN           NaN  \n",
       "209       0.216565   -0.216565       0.216565         297.0  \n",
       "210       0.216565         NaN            NaN           NaN  \n",
       "...            ...         ...            ...           ...  \n",
       "7733      0.216565         NaN            NaN           NaN  \n",
       "7774      0.216565         NaN            NaN           NaN  \n",
       "7775      0.216565         NaN            NaN           NaN  \n",
       "7778      0.216565         NaN            NaN           NaN  \n",
       "7789      0.216565         NaN            NaN           NaN  \n",
       "\n",
       "[540 rows x 7 columns]"
      ]
     },
     "execution_count": 429,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# rank the absolute value\n",
    "parttime['parttimerank'] = parttime ['absolutevalue'].rank()\n",
    "parttime"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 431,
   "id": "5424fb0d",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>INSTNM</th>\n",
       "      <th>CITY</th>\n",
       "      <th>STD</th>\n",
       "      <th>racediversityrank</th>\n",
       "      <th>PPTUG_EF</th>\n",
       "      <th>parttimerank</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Academy of Art University</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>0.101867</td>\n",
       "      <td>3.0</td>\n",
       "      <td>0.4475</td>\n",
       "      <td>374.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>American Academy of Dramatic Arts-Los Angeles</td>\n",
       "      <td>Los Angeles</td>\n",
       "      <td>0.151162</td>\n",
       "      <td>138.0</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>297.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>American Film Institute Conservatory</td>\n",
       "      <td>Los Angeles</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>American Career College-Los Angeles</td>\n",
       "      <td>Los Angeles</td>\n",
       "      <td>0.205334</td>\n",
       "      <td>337.0</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>297.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>American Conservatory Theater</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>1.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>543</th>\n",
       "      <td>Make-up Designory</td>\n",
       "      <td>New York</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>544</th>\n",
       "      <td>Strayer University-Katy</td>\n",
       "      <td>Houston</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>545</th>\n",
       "      <td>Strayer University-Northwest Houston</td>\n",
       "      <td>Houston</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>546</th>\n",
       "      <td>Strayer University-North Dallas</td>\n",
       "      <td>Dallas</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>547</th>\n",
       "      <td>SAE Institute of Technology San Francisco</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>548 rows × 6 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                                            INSTNM           CITY       STD  \\\n",
       "0                        Academy of Art University  San Francisco  0.101867   \n",
       "1    American Academy of Dramatic Arts-Los Angeles    Los Angeles  0.151162   \n",
       "2             American Film Institute Conservatory    Los Angeles       NaN   \n",
       "3              American Career College-Los Angeles    Los Angeles  0.205334   \n",
       "4                    American Conservatory Theater  San Francisco  0.000000   \n",
       "..                                             ...            ...       ...   \n",
       "543                              Make-up Designory       New York       NaN   \n",
       "544                        Strayer University-Katy        Houston       NaN   \n",
       "545           Strayer University-Northwest Houston        Houston       NaN   \n",
       "546                Strayer University-North Dallas         Dallas       NaN   \n",
       "547      SAE Institute of Technology San Francisco  San Francisco       NaN   \n",
       "\n",
       "     racediversityrank  PPTUG_EF  parttimerank  \n",
       "0                  3.0    0.4475         374.0  \n",
       "1                138.0    0.0000         297.0  \n",
       "2                  NaN       NaN           NaN  \n",
       "3                337.0    0.0000         297.0  \n",
       "4                  1.0       NaN           NaN  \n",
       "..                 ...       ...           ...  \n",
       "543                NaN       NaN           NaN  \n",
       "544                NaN       NaN           NaN  \n",
       "545                NaN       NaN           NaN  \n",
       "546                NaN       NaN           NaN  \n",
       "547                NaN       NaN           NaN  \n",
       "\n",
       "[548 rows x 6 columns]"
      ]
     },
     "execution_count": 431,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# merge variables of the two aspects of diversity\n",
    "diversity1 = racediversity [['INSTNM', 'CITY', 'STD', 'racediversityrank']]\n",
    "diversity2 = parttime [[ 'INSTNM', 'CITY', 'PPTUG_EF', 'parttimerank' ]]\n",
    "\n",
    "diversity = pd.merge (diversity1, diversity2)\n",
    "diversity"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "4d9cd4e1",
   "metadata": {},
   "source": [
    "#### Safety"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 432,
   "id": "defcee5d",
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>State</th>\n",
       "      <th>CITY</th>\n",
       "      <th>Population</th>\n",
       "      <th>Violent\\ncrime</th>\n",
       "      <th>Murder and\\nnonnegligent\\nmanslaughter</th>\n",
       "      <th>Rape1</th>\n",
       "      <th>Robbery</th>\n",
       "      <th>Aggravated\\nassault</th>\n",
       "      <th>Property\\ncrime</th>\n",
       "      <th>Burglary</th>\n",
       "      <th>Larceny-\\ntheft</th>\n",
       "      <th>Motor\\nvehicle\\ntheft</th>\n",
       "      <th>Arson2</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>ALABAMA3</td>\n",
       "      <td>Hoover</td>\n",
       "      <td>85,670</td>\n",
       "      <td>114</td>\n",
       "      <td>4.0</td>\n",
       "      <td>15</td>\n",
       "      <td>27</td>\n",
       "      <td>68</td>\n",
       "      <td>1,922</td>\n",
       "      <td>128</td>\n",
       "      <td>1,694</td>\n",
       "      <td>100</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>ALASKA</td>\n",
       "      <td>Anchorage</td>\n",
       "      <td>287,731</td>\n",
       "      <td>3,581</td>\n",
       "      <td>32.0</td>\n",
       "      <td>540</td>\n",
       "      <td>621</td>\n",
       "      <td>2,388</td>\n",
       "      <td>12,261</td>\n",
       "      <td>1,692</td>\n",
       "      <td>9,038</td>\n",
       "      <td>1,531</td>\n",
       "      <td>93</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>NaN</td>\n",
       "      <td>Bethel</td>\n",
       "      <td>6,544</td>\n",
       "      <td>130</td>\n",
       "      <td>1.0</td>\n",
       "      <td>47</td>\n",
       "      <td>3</td>\n",
       "      <td>79</td>\n",
       "      <td>132</td>\n",
       "      <td>20</td>\n",
       "      <td>84</td>\n",
       "      <td>28</td>\n",
       "      <td>12</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>NaN</td>\n",
       "      <td>Bristol Bay Borough</td>\n",
       "      <td>852</td>\n",
       "      <td>2</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2</td>\n",
       "      <td>20</td>\n",
       "      <td>5</td>\n",
       "      <td>8</td>\n",
       "      <td>7</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>NaN</td>\n",
       "      <td>Cordova</td>\n",
       "      <td>2,150</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>7</td>\n",
       "      <td>1</td>\n",
       "      <td>6</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>8108</th>\n",
       "      <td>4 The FBI determined that the agency's data we...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>8109</th>\n",
       "      <td>5 Because of changes in the state/local agency...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>8110</th>\n",
       "      <td>6 The FBI determined that the agency's data we...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>8111</th>\n",
       "      <td>7 This agency submits rape data classified acc...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>8112</th>\n",
       "      <td>8Arson offenses are reported by the Toledo Fir...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>8113 rows × 13 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                                                  State                 CITY  \\\n",
       "0                                              ALABAMA3               Hoover   \n",
       "1                                                ALASKA            Anchorage   \n",
       "2                                                   NaN               Bethel   \n",
       "3                                                   NaN  Bristol Bay Borough   \n",
       "4                                                   NaN              Cordova   \n",
       "...                                                 ...                  ...   \n",
       "8108  4 The FBI determined that the agency's data we...                  NaN   \n",
       "8109  5 Because of changes in the state/local agency...                  NaN   \n",
       "8110  6 The FBI determined that the agency's data we...                  NaN   \n",
       "8111  7 This agency submits rape data classified acc...                  NaN   \n",
       "8112  8Arson offenses are reported by the Toledo Fir...                  NaN   \n",
       "\n",
       "     Population Violent\\ncrime  Murder and\\nnonnegligent\\nmanslaughter Rape1  \\\n",
       "0        85,670            114                                     4.0    15   \n",
       "1       287,731          3,581                                    32.0   540   \n",
       "2         6,544            130                                     1.0    47   \n",
       "3           852              2                                     0.0     0   \n",
       "4         2,150              0                                     0.0     0   \n",
       "...         ...            ...                                     ...   ...   \n",
       "8108        NaN            NaN                                     NaN   NaN   \n",
       "8109        NaN            NaN                                     NaN   NaN   \n",
       "8110        NaN            NaN                                     NaN   NaN   \n",
       "8111        NaN            NaN                                     NaN   NaN   \n",
       "8112        NaN            NaN                                     NaN   NaN   \n",
       "\n",
       "     Robbery Aggravated\\nassault Property\\ncrime Burglary Larceny-\\ntheft  \\\n",
       "0         27                  68           1,922      128           1,694   \n",
       "1        621               2,388          12,261    1,692           9,038   \n",
       "2          3                  79             132       20              84   \n",
       "3          0                   2              20        5               8   \n",
       "4          0                   0               7        1               6   \n",
       "...      ...                 ...             ...      ...             ...   \n",
       "8108     NaN                 NaN             NaN      NaN             NaN   \n",
       "8109     NaN                 NaN             NaN      NaN             NaN   \n",
       "8110     NaN                 NaN             NaN      NaN             NaN   \n",
       "8111     NaN                 NaN             NaN      NaN             NaN   \n",
       "8112     NaN                 NaN             NaN      NaN             NaN   \n",
       "\n",
       "     Motor\\nvehicle\\ntheft Arson2  \n",
       "0                      100      2  \n",
       "1                    1,531     93  \n",
       "2                       28     12  \n",
       "3                        7      0  \n",
       "4                        0      0  \n",
       "...                    ...    ...  \n",
       "8108                   NaN    NaN  \n",
       "8109                   NaN    NaN  \n",
       "8110                   NaN    NaN  \n",
       "8111                   NaN    NaN  \n",
       "8112                   NaN    NaN  \n",
       "\n",
       "[8113 rows x 13 columns]"
      ]
     },
     "execution_count": 432,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "ACAdata2 = pd.read_csv(\"/Users/ljy/Desktop/ACA1_dataset/Table_8_Offenses_Known_to_Law_Enforcement_by_State_by_City_2019.csv\")\n",
    "ACAdata2"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 433,
   "id": "a8d24ce1",
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>State</th>\n",
       "      <th>CITY</th>\n",
       "      <th>Population</th>\n",
       "      <th>Violent\\ncrime</th>\n",
       "      <th>Murder and\\nnonnegligent\\nmanslaughter</th>\n",
       "      <th>Rape1</th>\n",
       "      <th>Robbery</th>\n",
       "      <th>Aggravated\\nassault</th>\n",
       "      <th>Property\\ncrime</th>\n",
       "      <th>Burglary</th>\n",
       "      <th>Larceny-\\ntheft</th>\n",
       "      <th>Motor\\nvehicle\\ntheft</th>\n",
       "      <th>Arson2</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>504</th>\n",
       "      <td>NaN</td>\n",
       "      <td>Los Angeles</td>\n",
       "      <td>4,015,546</td>\n",
       "      <td>29,400</td>\n",
       "      <td>258.0</td>\n",
       "      <td>2,274</td>\n",
       "      <td>9,652</td>\n",
       "      <td>17,216</td>\n",
       "      <td>95,704</td>\n",
       "      <td>13,809</td>\n",
       "      <td>66,253</td>\n",
       "      <td>15,642</td>\n",
       "      <td>1,672</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>622</th>\n",
       "      <td>NaN</td>\n",
       "      <td>San Diego</td>\n",
       "      <td>1,441,737</td>\n",
       "      <td>5,215</td>\n",
       "      <td>50.0</td>\n",
       "      <td>561</td>\n",
       "      <td>1,346</td>\n",
       "      <td>3,258</td>\n",
       "      <td>27,141</td>\n",
       "      <td>3,543</td>\n",
       "      <td>18,426</td>\n",
       "      <td>5,172</td>\n",
       "      <td>122</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>625</th>\n",
       "      <td>NaN</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>886,007</td>\n",
       "      <td>5,933</td>\n",
       "      <td>40.0</td>\n",
       "      <td>324</td>\n",
       "      <td>3,055</td>\n",
       "      <td>2,514</td>\n",
       "      <td>48,780</td>\n",
       "      <td>4,644</td>\n",
       "      <td>39,887</td>\n",
       "      <td>4,249</td>\n",
       "      <td>275</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>757</th>\n",
       "      <td>NaN</td>\n",
       "      <td>Denver</td>\n",
       "      <td>728,941</td>\n",
       "      <td>5,459</td>\n",
       "      <td>67.0</td>\n",
       "      <td>713</td>\n",
       "      <td>1,205</td>\n",
       "      <td>3,474</td>\n",
       "      <td>27,288</td>\n",
       "      <td>3,967</td>\n",
       "      <td>18,027</td>\n",
       "      <td>5,294</td>\n",
       "      <td>107</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1484</th>\n",
       "      <td>NaN</td>\n",
       "      <td>Chicago</td>\n",
       "      <td>2,707,064</td>\n",
       "      <td>25,532</td>\n",
       "      <td>492.0</td>\n",
       "      <td>1,761</td>\n",
       "      <td>7,983</td>\n",
       "      <td>15,296</td>\n",
       "      <td>80,742</td>\n",
       "      <td>9,578</td>\n",
       "      <td>62,083</td>\n",
       "      <td>9,081</td>\n",
       "      <td>416</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3810</th>\n",
       "      <td>NaN</td>\n",
       "      <td>Houston</td>\n",
       "      <td>2,091</td>\n",
       "      <td>6</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>6</td>\n",
       "      <td>119</td>\n",
       "      <td>19</td>\n",
       "      <td>97</td>\n",
       "      <td>3</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4987</th>\n",
       "      <td>NaN</td>\n",
       "      <td>New York</td>\n",
       "      <td>8,379,043</td>\n",
       "      <td>47,821</td>\n",
       "      <td>319.0</td>\n",
       "      <td>2,770</td>\n",
       "      <td>13,396</td>\n",
       "      <td>31,336</td>\n",
       "      <td>122,299</td>\n",
       "      <td>9,846</td>\n",
       "      <td>106,931</td>\n",
       "      <td>5,522</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5156</th>\n",
       "      <td>NaN</td>\n",
       "      <td>Dallas</td>\n",
       "      <td>4,787</td>\n",
       "      <td>20</td>\n",
       "      <td>0.0</td>\n",
       "      <td>2</td>\n",
       "      <td>5</td>\n",
       "      <td>13</td>\n",
       "      <td>153</td>\n",
       "      <td>24</td>\n",
       "      <td>109</td>\n",
       "      <td>20</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5969</th>\n",
       "      <td>NaN</td>\n",
       "      <td>Dallas</td>\n",
       "      <td>16,983</td>\n",
       "      <td>48</td>\n",
       "      <td>0.0</td>\n",
       "      <td>7</td>\n",
       "      <td>1</td>\n",
       "      <td>40</td>\n",
       "      <td>326</td>\n",
       "      <td>35</td>\n",
       "      <td>273</td>\n",
       "      <td>18</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6894</th>\n",
       "      <td>NaN</td>\n",
       "      <td>Dallas</td>\n",
       "      <td>1,363,295</td>\n",
       "      <td>11,764</td>\n",
       "      <td>198.0</td>\n",
       "      <td>797</td>\n",
       "      <td>4,400</td>\n",
       "      <td>6,369</td>\n",
       "      <td>45,279</td>\n",
       "      <td>9,210</td>\n",
       "      <td>25,812</td>\n",
       "      <td>10,257</td>\n",
       "      <td>144</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7003</th>\n",
       "      <td>NaN</td>\n",
       "      <td>Houston</td>\n",
       "      <td>2,355,606</td>\n",
       "      <td>25,257</td>\n",
       "      <td>275.0</td>\n",
       "      <td>1,249</td>\n",
       "      <td>9,147</td>\n",
       "      <td>14,586</td>\n",
       "      <td>101,750</td>\n",
       "      <td>17,038</td>\n",
       "      <td>71,614</td>\n",
       "      <td>13,098</td>\n",
       "      <td>485</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7206</th>\n",
       "      <td>NaN</td>\n",
       "      <td>San Diego</td>\n",
       "      <td>4,226</td>\n",
       "      <td>7</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>7</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7688</th>\n",
       "      <td>NaN</td>\n",
       "      <td>Seattle</td>\n",
       "      <td>763,706</td>\n",
       "      <td>4,471</td>\n",
       "      <td>28.0</td>\n",
       "      <td>358</td>\n",
       "      <td>1,339</td>\n",
       "      <td>2,746</td>\n",
       "      <td>34,333</td>\n",
       "      <td>7,210</td>\n",
       "      <td>23,478</td>\n",
       "      <td>3,645</td>\n",
       "      <td>98</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "     State           CITY Population Violent\\ncrime  \\\n",
       "504    NaN    Los Angeles  4,015,546         29,400   \n",
       "622    NaN      San Diego  1,441,737          5,215   \n",
       "625    NaN  San Francisco    886,007          5,933   \n",
       "757    NaN         Denver    728,941          5,459   \n",
       "1484   NaN        Chicago  2,707,064         25,532   \n",
       "3810   NaN        Houston      2,091              6   \n",
       "4987   NaN       New York  8,379,043         47,821   \n",
       "5156   NaN         Dallas      4,787             20   \n",
       "5969   NaN         Dallas     16,983             48   \n",
       "6894   NaN         Dallas  1,363,295         11,764   \n",
       "7003   NaN        Houston  2,355,606         25,257   \n",
       "7206   NaN      San Diego      4,226              7   \n",
       "7688   NaN        Seattle    763,706          4,471   \n",
       "\n",
       "      Murder and\\nnonnegligent\\nmanslaughter  Rape1 Robbery  \\\n",
       "504                                    258.0  2,274   9,652   \n",
       "622                                     50.0    561   1,346   \n",
       "625                                     40.0    324   3,055   \n",
       "757                                     67.0    713   1,205   \n",
       "1484                                   492.0  1,761   7,983   \n",
       "3810                                     0.0      0       0   \n",
       "4987                                   319.0  2,770  13,396   \n",
       "5156                                     0.0      2       5   \n",
       "5969                                     0.0      7       1   \n",
       "6894                                   198.0    797   4,400   \n",
       "7003                                   275.0  1,249   9,147   \n",
       "7206                                     0.0      0       0   \n",
       "7688                                    28.0    358   1,339   \n",
       "\n",
       "     Aggravated\\nassault Property\\ncrime Burglary Larceny-\\ntheft  \\\n",
       "504               17,216          95,704   13,809          66,253   \n",
       "622                3,258          27,141    3,543          18,426   \n",
       "625                2,514          48,780    4,644          39,887   \n",
       "757                3,474          27,288    3,967          18,027   \n",
       "1484              15,296          80,742    9,578          62,083   \n",
       "3810                   6             119       19              97   \n",
       "4987              31,336         122,299    9,846         106,931   \n",
       "5156                  13             153       24             109   \n",
       "5969                  40             326       35             273   \n",
       "6894               6,369          45,279    9,210          25,812   \n",
       "7003              14,586         101,750   17,038          71,614   \n",
       "7206                   7               0        0               0   \n",
       "7688               2,746          34,333    7,210          23,478   \n",
       "\n",
       "     Motor\\nvehicle\\ntheft Arson2  \n",
       "504                 15,642  1,672  \n",
       "622                  5,172    122  \n",
       "625                  4,249    275  \n",
       "757                  5,294    107  \n",
       "1484                 9,081    416  \n",
       "3810                     3      0  \n",
       "4987                 5,522    NaN  \n",
       "5156                    20      1  \n",
       "5969                    18      2  \n",
       "6894                10,257    144  \n",
       "7003                13,098    485  \n",
       "7206                     0      0  \n",
       "7688                 3,645     98  "
      ]
     },
     "execution_count": 433,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Extract crime data in big cities\n",
    "CrimeinUrban = ACAdata2.loc[(ACAdata2['CITY'] == \"New York\") | (ACAdata2['CITY'] == \"Los Angeles\" ) | (ACAdata2['CITY'] == \"Chicago\" ) | (ACAdata2['CITY'] == \"Houston\") | (ACAdata2['CITY'] == \"Phonenix\" ) | (ACAdata2['CITY'] == \"Philadelphia\" )  | (ACAdata2['CITY'] == \"San Diego\" ) | (ACAdata2['CITY'] == \"Dallas\" ) | (ACAdata2['CITY'] == \"Boston\" ) | (ACAdata2['CITY'] == \"Seattle\") | (ACAdata2['CITY'] == \"San Francisco\") | (ACAdata2['CITY'] == \"Washington D.C.\") | (ACAdata2['CITY'] == \"Denver\")]\n",
    "CrimeinUrban"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 434,
   "id": "3144161c",
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>CITY</th>\n",
       "      <th>Population</th>\n",
       "      <th>Violent\\ncrime</th>\n",
       "      <th>Property\\ncrime</th>\n",
       "      <th>Arson2</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>504</th>\n",
       "      <td>Los Angeles</td>\n",
       "      <td>4,015,546</td>\n",
       "      <td>29,400</td>\n",
       "      <td>95,704</td>\n",
       "      <td>1,672</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>622</th>\n",
       "      <td>San Diego</td>\n",
       "      <td>1,441,737</td>\n",
       "      <td>5,215</td>\n",
       "      <td>27,141</td>\n",
       "      <td>122</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>625</th>\n",
       "      <td>San Francisco</td>\n",
       "      <td>886,007</td>\n",
       "      <td>5,933</td>\n",
       "      <td>48,780</td>\n",
       "      <td>275</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>757</th>\n",
       "      <td>Denver</td>\n",
       "      <td>728,941</td>\n",
       "      <td>5,459</td>\n",
       "      <td>27,288</td>\n",
       "      <td>107</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1484</th>\n",
       "      <td>Chicago</td>\n",
       "      <td>2,707,064</td>\n",
       "      <td>25,532</td>\n",
       "      <td>80,742</td>\n",
       "      <td>416</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3810</th>\n",
       "      <td>Houston</td>\n",
       "      <td>2,091</td>\n",
       "      <td>6</td>\n",
       "      <td>119</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4987</th>\n",
       "      <td>New York</td>\n",
       "      <td>8,379,043</td>\n",
       "      <td>47,821</td>\n",
       "      <td>122,299</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5156</th>\n",
       "      <td>Dallas</td>\n",
       "      <td>4,787</td>\n",
       "      <td>20</td>\n",
       "      <td>153</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5969</th>\n",
       "      <td>Dallas</td>\n",
       "      <td>16,983</td>\n",
       "      <td>48</td>\n",
       "      <td>326</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6894</th>\n",
       "      <td>Dallas</td>\n",
       "      <td>1,363,295</td>\n",
       "      <td>11,764</td>\n",
       "      <td>45,279</td>\n",
       "      <td>144</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7003</th>\n",
       "      <td>Houston</td>\n",
       "      <td>2,355,606</td>\n",
       "      <td>25,257</td>\n",
       "      <td>101,750</td>\n",
       "      <td>485</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7206</th>\n",
       "      <td>San Diego</td>\n",
       "      <td>4,226</td>\n",
       "      <td>7</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7688</th>\n",
       "      <td>Seattle</td>\n",
       "      <td>763,706</td>\n",
       "      <td>4,471</td>\n",
       "      <td>34,333</td>\n",
       "      <td>98</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "               CITY Population Violent\\ncrime Property\\ncrime Arson2\n",
       "504     Los Angeles  4,015,546         29,400          95,704  1,672\n",
       "622       San Diego  1,441,737          5,215          27,141    122\n",
       "625   San Francisco    886,007          5,933          48,780    275\n",
       "757          Denver    728,941          5,459          27,288    107\n",
       "1484        Chicago  2,707,064         25,532          80,742    416\n",
       "3810        Houston      2,091              6             119      0\n",
       "4987       New York  8,379,043         47,821         122,299    NaN\n",
       "5156         Dallas      4,787             20             153      1\n",
       "5969         Dallas     16,983             48             326      2\n",
       "6894         Dallas  1,363,295         11,764          45,279    144\n",
       "7003        Houston  2,355,606         25,257         101,750    485\n",
       "7206      San Diego      4,226              7               0      0\n",
       "7688        Seattle    763,706          4,471          34,333     98"
      ]
     },
     "execution_count": 434,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Extract three main categories of crime.\n",
    "Safety = CrimeinUrban[['CITY', 'Population', 'Violent\\ncrime', 'Property\\ncrime', 'Arson2']]\n",
    "Safety"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 435,
   "id": "b818f629",
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "<ipython-input-435-f9884633ee83>:2: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  Safety['Violent\\ncrime'] = Safety['Violent\\ncrime'].str.replace(',', '').astype(float)\n",
      "<ipython-input-435-f9884633ee83>:3: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  Safety['Property\\ncrime'] = Safety['Property\\ncrime'].str.replace(',', '').astype(float)\n",
      "<ipython-input-435-f9884633ee83>:4: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  Safety['Population'] = Safety['Population'].str.replace(\",\", \"\").astype(float)\n",
      "<ipython-input-435-f9884633ee83>:5: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  Safety['Arson2'] = Safety['Arson2'].str.replace(\",\", \"\").astype(float)\n",
      "<ipython-input-435-f9884633ee83>:6: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  Safety ['Violentcrimerate'] = Safety['Violent\\ncrime'] / Safety['Population']*100000\n",
      "<ipython-input-435-f9884633ee83>:7: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  Safety ['Propertycrimerate'] = Safety['Property\\ncrime'] / Safety['Population']*100000\n",
      "<ipython-input-435-f9884633ee83>:8: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  Safety ['Arsoncrimerate'] = Safety['Arson2'] / Safety['Population']*100000\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>CITY</th>\n",
       "      <th>Population</th>\n",
       "      <th>Violent\\ncrime</th>\n",
       "      <th>Property\\ncrime</th>\n",
       "      <th>Arson2</th>\n",
       "      <th>Violentcrimerate</th>\n",
       "      <th>Propertycrimerate</th>\n",
       "      <th>Arsoncrimerate</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>504</th>\n",
       "      <td>Los Angeles</td>\n",
       "      <td>4015546.0</td>\n",
       "      <td>29400.0</td>\n",
       "      <td>95704.0</td>\n",
       "      <td>1672.0</td>\n",
       "      <td>732.154482</td>\n",
       "      <td>2383.337160</td>\n",
       "      <td>41.638173</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>622</th>\n",
       "      <td>San Diego</td>\n",
       "      <td>1441737.0</td>\n",
       "      <td>5215.0</td>\n",
       "      <td>27141.0</td>\n",
       "      <td>122.0</td>\n",
       "      <td>361.716457</td>\n",
       "      <td>1882.520876</td>\n",
       "      <td>8.462015</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>625</th>\n",
       "      <td>San Francisco</td>\n",
       "      <td>886007.0</td>\n",
       "      <td>5933.0</td>\n",
       "      <td>48780.0</td>\n",
       "      <td>275.0</td>\n",
       "      <td>669.633536</td>\n",
       "      <td>5505.599843</td>\n",
       "      <td>31.038129</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>757</th>\n",
       "      <td>Denver</td>\n",
       "      <td>728941.0</td>\n",
       "      <td>5459.0</td>\n",
       "      <td>27288.0</td>\n",
       "      <td>107.0</td>\n",
       "      <td>748.894629</td>\n",
       "      <td>3743.512849</td>\n",
       "      <td>14.678829</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1484</th>\n",
       "      <td>Chicago</td>\n",
       "      <td>2707064.0</td>\n",
       "      <td>25532.0</td>\n",
       "      <td>80742.0</td>\n",
       "      <td>416.0</td>\n",
       "      <td>943.162038</td>\n",
       "      <td>2982.640972</td>\n",
       "      <td>15.367202</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3810</th>\n",
       "      <td>Houston</td>\n",
       "      <td>2091.0</td>\n",
       "      <td>6.0</td>\n",
       "      <td>119.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>286.944046</td>\n",
       "      <td>5691.056911</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4987</th>\n",
       "      <td>New York</td>\n",
       "      <td>8379043.0</td>\n",
       "      <td>47821.0</td>\n",
       "      <td>122299.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>570.721501</td>\n",
       "      <td>1459.581959</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5156</th>\n",
       "      <td>Dallas</td>\n",
       "      <td>4787.0</td>\n",
       "      <td>20.0</td>\n",
       "      <td>153.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>417.798203</td>\n",
       "      <td>3196.156257</td>\n",
       "      <td>20.889910</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5969</th>\n",
       "      <td>Dallas</td>\n",
       "      <td>16983.0</td>\n",
       "      <td>48.0</td>\n",
       "      <td>326.0</td>\n",
       "      <td>2.0</td>\n",
       "      <td>282.635577</td>\n",
       "      <td>1919.566625</td>\n",
       "      <td>11.776482</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6894</th>\n",
       "      <td>Dallas</td>\n",
       "      <td>1363295.0</td>\n",
       "      <td>11764.0</td>\n",
       "      <td>45279.0</td>\n",
       "      <td>144.0</td>\n",
       "      <td>862.909348</td>\n",
       "      <td>3321.291430</td>\n",
       "      <td>10.562644</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7003</th>\n",
       "      <td>Houston</td>\n",
       "      <td>2355606.0</td>\n",
       "      <td>25257.0</td>\n",
       "      <td>101750.0</td>\n",
       "      <td>485.0</td>\n",
       "      <td>1072.208171</td>\n",
       "      <td>4319.482970</td>\n",
       "      <td>20.589182</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7206</th>\n",
       "      <td>San Diego</td>\n",
       "      <td>4226.0</td>\n",
       "      <td>7.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>165.641268</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7688</th>\n",
       "      <td>Seattle</td>\n",
       "      <td>763706.0</td>\n",
       "      <td>4471.0</td>\n",
       "      <td>34333.0</td>\n",
       "      <td>98.0</td>\n",
       "      <td>585.434709</td>\n",
       "      <td>4495.578141</td>\n",
       "      <td>12.832163</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "               CITY  Population  Violent\\ncrime  Property\\ncrime  Arson2  \\\n",
       "504     Los Angeles   4015546.0         29400.0          95704.0  1672.0   \n",
       "622       San Diego   1441737.0          5215.0          27141.0   122.0   \n",
       "625   San Francisco    886007.0          5933.0          48780.0   275.0   \n",
       "757          Denver    728941.0          5459.0          27288.0   107.0   \n",
       "1484        Chicago   2707064.0         25532.0          80742.0   416.0   \n",
       "3810        Houston      2091.0             6.0            119.0     0.0   \n",
       "4987       New York   8379043.0         47821.0         122299.0     NaN   \n",
       "5156         Dallas      4787.0            20.0            153.0     1.0   \n",
       "5969         Dallas     16983.0            48.0            326.0     2.0   \n",
       "6894         Dallas   1363295.0         11764.0          45279.0   144.0   \n",
       "7003        Houston   2355606.0         25257.0         101750.0   485.0   \n",
       "7206      San Diego      4226.0             7.0              0.0     0.0   \n",
       "7688        Seattle    763706.0          4471.0          34333.0    98.0   \n",
       "\n",
       "      Violentcrimerate  Propertycrimerate  Arsoncrimerate  \n",
       "504         732.154482        2383.337160       41.638173  \n",
       "622         361.716457        1882.520876        8.462015  \n",
       "625         669.633536        5505.599843       31.038129  \n",
       "757         748.894629        3743.512849       14.678829  \n",
       "1484        943.162038        2982.640972       15.367202  \n",
       "3810        286.944046        5691.056911        0.000000  \n",
       "4987        570.721501        1459.581959             NaN  \n",
       "5156        417.798203        3196.156257       20.889910  \n",
       "5969        282.635577        1919.566625       11.776482  \n",
       "6894        862.909348        3321.291430       10.562644  \n",
       "7003       1072.208171        4319.482970       20.589182  \n",
       "7206        165.641268           0.000000        0.000000  \n",
       "7688        585.434709        4495.578141       12.832163  "
      ]
     },
     "execution_count": 435,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# calculate crime rate\n",
    "Safety['Violent\\ncrime'] = Safety['Violent\\ncrime'].str.replace(',', '').astype(float)\n",
    "Safety['Property\\ncrime'] = Safety['Property\\ncrime'].str.replace(',', '').astype(float)\n",
    "Safety['Population'] = Safety['Population'].str.replace(\",\", \"\").astype(float)\n",
    "Safety['Arson2'] = Safety['Arson2'].str.replace(\",\", \"\").astype(float)\n",
    "Safety ['Violentcrimerate'] = Safety['Violent\\ncrime'] / Safety['Population']*100000\n",
    "Safety ['Propertycrimerate'] = Safety['Property\\ncrime'] / Safety['Population']*100000\n",
    "Safety ['Arsoncrimerate'] = Safety['Arson2'] / Safety['Population']*100000\n",
    "Safety"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 436,
   "id": "f85262e9",
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "<ipython-input-436-414daa10a41c>:2: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  Safety['violentrank'] = Safety ['Violentcrimerate'].rank()\n",
      "<ipython-input-436-414daa10a41c>:3: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  Safety['propertyrank'] = Safety ['Propertycrimerate'].rank()\n",
      "<ipython-input-436-414daa10a41c>:4: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  Safety['arsonrank'] = Safety ['Arsoncrimerate'].rank()\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>CITY</th>\n",
       "      <th>Population</th>\n",
       "      <th>Violent\\ncrime</th>\n",
       "      <th>Property\\ncrime</th>\n",
       "      <th>Arson2</th>\n",
       "      <th>Violentcrimerate</th>\n",
       "      <th>Propertycrimerate</th>\n",
       "      <th>Arsoncrimerate</th>\n",
       "      <th>violentrank</th>\n",
       "      <th>propertyrank</th>\n",
       "      <th>arsonrank</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>504</th>\n",
       "      <td>Los Angeles</td>\n",
       "      <td>4015546.0</td>\n",
       "      <td>29400.0</td>\n",
       "      <td>95704.0</td>\n",
       "      <td>1672.0</td>\n",
       "      <td>732.154482</td>\n",
       "      <td>2383.337160</td>\n",
       "      <td>41.638173</td>\n",
       "      <td>9.0</td>\n",
       "      <td>5.0</td>\n",
       "      <td>12.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>622</th>\n",
       "      <td>San Diego</td>\n",
       "      <td>1441737.0</td>\n",
       "      <td>5215.0</td>\n",
       "      <td>27141.0</td>\n",
       "      <td>122.0</td>\n",
       "      <td>361.716457</td>\n",
       "      <td>1882.520876</td>\n",
       "      <td>8.462015</td>\n",
       "      <td>4.0</td>\n",
       "      <td>3.0</td>\n",
       "      <td>3.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>625</th>\n",
       "      <td>San Francisco</td>\n",
       "      <td>886007.0</td>\n",
       "      <td>5933.0</td>\n",
       "      <td>48780.0</td>\n",
       "      <td>275.0</td>\n",
       "      <td>669.633536</td>\n",
       "      <td>5505.599843</td>\n",
       "      <td>31.038129</td>\n",
       "      <td>8.0</td>\n",
       "      <td>12.0</td>\n",
       "      <td>11.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>757</th>\n",
       "      <td>Denver</td>\n",
       "      <td>728941.0</td>\n",
       "      <td>5459.0</td>\n",
       "      <td>27288.0</td>\n",
       "      <td>107.0</td>\n",
       "      <td>748.894629</td>\n",
       "      <td>3743.512849</td>\n",
       "      <td>14.678829</td>\n",
       "      <td>10.0</td>\n",
       "      <td>9.0</td>\n",
       "      <td>7.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1484</th>\n",
       "      <td>Chicago</td>\n",
       "      <td>2707064.0</td>\n",
       "      <td>25532.0</td>\n",
       "      <td>80742.0</td>\n",
       "      <td>416.0</td>\n",
       "      <td>943.162038</td>\n",
       "      <td>2982.640972</td>\n",
       "      <td>15.367202</td>\n",
       "      <td>12.0</td>\n",
       "      <td>6.0</td>\n",
       "      <td>8.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3810</th>\n",
       "      <td>Houston</td>\n",
       "      <td>2091.0</td>\n",
       "      <td>6.0</td>\n",
       "      <td>119.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>286.944046</td>\n",
       "      <td>5691.056911</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>3.0</td>\n",
       "      <td>13.0</td>\n",
       "      <td>1.5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4987</th>\n",
       "      <td>New York</td>\n",
       "      <td>8379043.0</td>\n",
       "      <td>47821.0</td>\n",
       "      <td>122299.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>570.721501</td>\n",
       "      <td>1459.581959</td>\n",
       "      <td>NaN</td>\n",
       "      <td>6.0</td>\n",
       "      <td>2.0</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5156</th>\n",
       "      <td>Dallas</td>\n",
       "      <td>4787.0</td>\n",
       "      <td>20.0</td>\n",
       "      <td>153.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>417.798203</td>\n",
       "      <td>3196.156257</td>\n",
       "      <td>20.889910</td>\n",
       "      <td>5.0</td>\n",
       "      <td>7.0</td>\n",
       "      <td>10.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5969</th>\n",
       "      <td>Dallas</td>\n",
       "      <td>16983.0</td>\n",
       "      <td>48.0</td>\n",
       "      <td>326.0</td>\n",
       "      <td>2.0</td>\n",
       "      <td>282.635577</td>\n",
       "      <td>1919.566625</td>\n",
       "      <td>11.776482</td>\n",
       "      <td>2.0</td>\n",
       "      <td>4.0</td>\n",
       "      <td>5.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6894</th>\n",
       "      <td>Dallas</td>\n",
       "      <td>1363295.0</td>\n",
       "      <td>11764.0</td>\n",
       "      <td>45279.0</td>\n",
       "      <td>144.0</td>\n",
       "      <td>862.909348</td>\n",
       "      <td>3321.291430</td>\n",
       "      <td>10.562644</td>\n",
       "      <td>11.0</td>\n",
       "      <td>8.0</td>\n",
       "      <td>4.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7003</th>\n",
       "      <td>Houston</td>\n",
       "      <td>2355606.0</td>\n",
       "      <td>25257.0</td>\n",
       "      <td>101750.0</td>\n",
       "      <td>485.0</td>\n",
       "      <td>1072.208171</td>\n",
       "      <td>4319.482970</td>\n",
       "      <td>20.589182</td>\n",
       "      <td>13.0</td>\n",
       "      <td>10.0</td>\n",
       "      <td>9.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7206</th>\n",
       "      <td>San Diego</td>\n",
       "      <td>4226.0</td>\n",
       "      <td>7.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>165.641268</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7688</th>\n",
       "      <td>Seattle</td>\n",
       "      <td>763706.0</td>\n",
       "      <td>4471.0</td>\n",
       "      <td>34333.0</td>\n",
       "      <td>98.0</td>\n",
       "      <td>585.434709</td>\n",
       "      <td>4495.578141</td>\n",
       "      <td>12.832163</td>\n",
       "      <td>7.0</td>\n",
       "      <td>11.0</td>\n",
       "      <td>6.0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "               CITY  Population  Violent\\ncrime  Property\\ncrime  Arson2  \\\n",
       "504     Los Angeles   4015546.0         29400.0          95704.0  1672.0   \n",
       "622       San Diego   1441737.0          5215.0          27141.0   122.0   \n",
       "625   San Francisco    886007.0          5933.0          48780.0   275.0   \n",
       "757          Denver    728941.0          5459.0          27288.0   107.0   \n",
       "1484        Chicago   2707064.0         25532.0          80742.0   416.0   \n",
       "3810        Houston      2091.0             6.0            119.0     0.0   \n",
       "4987       New York   8379043.0         47821.0         122299.0     NaN   \n",
       "5156         Dallas      4787.0            20.0            153.0     1.0   \n",
       "5969         Dallas     16983.0            48.0            326.0     2.0   \n",
       "6894         Dallas   1363295.0         11764.0          45279.0   144.0   \n",
       "7003        Houston   2355606.0         25257.0         101750.0   485.0   \n",
       "7206      San Diego      4226.0             7.0              0.0     0.0   \n",
       "7688        Seattle    763706.0          4471.0          34333.0    98.0   \n",
       "\n",
       "      Violentcrimerate  Propertycrimerate  Arsoncrimerate  violentrank  \\\n",
       "504         732.154482        2383.337160       41.638173          9.0   \n",
       "622         361.716457        1882.520876        8.462015          4.0   \n",
       "625         669.633536        5505.599843       31.038129          8.0   \n",
       "757         748.894629        3743.512849       14.678829         10.0   \n",
       "1484        943.162038        2982.640972       15.367202         12.0   \n",
       "3810        286.944046        5691.056911        0.000000          3.0   \n",
       "4987        570.721501        1459.581959             NaN          6.0   \n",
       "5156        417.798203        3196.156257       20.889910          5.0   \n",
       "5969        282.635577        1919.566625       11.776482          2.0   \n",
       "6894        862.909348        3321.291430       10.562644         11.0   \n",
       "7003       1072.208171        4319.482970       20.589182         13.0   \n",
       "7206        165.641268           0.000000        0.000000          1.0   \n",
       "7688        585.434709        4495.578141       12.832163          7.0   \n",
       "\n",
       "      propertyrank  arsonrank  \n",
       "504            5.0       12.0  \n",
       "622            3.0        3.0  \n",
       "625           12.0       11.0  \n",
       "757            9.0        7.0  \n",
       "1484           6.0        8.0  \n",
       "3810          13.0        1.5  \n",
       "4987           2.0        NaN  \n",
       "5156           7.0       10.0  \n",
       "5969           4.0        5.0  \n",
       "6894           8.0        4.0  \n",
       "7003          10.0        9.0  \n",
       "7206           1.0        1.5  \n",
       "7688          11.0        6.0  "
      ]
     },
     "execution_count": 436,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# rank the three categories of crime rate\n",
    "Safety['violentrank'] = Safety ['Violentcrimerate'].rank()\n",
    "Safety['propertyrank'] = Safety ['Propertycrimerate'].rank()\n",
    "Safety['arsonrank'] = Safety ['Arsoncrimerate'].rank()\n",
    "Safety"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 461,
   "id": "30a4f47d",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>INSTNM</th>\n",
       "      <th>CITY</th>\n",
       "      <th>PCIP13</th>\n",
       "      <th>CIP13BACHL</th>\n",
       "      <th>ADM_RATE_ALL</th>\n",
       "      <th>RET_FT4</th>\n",
       "      <th>RET_PT4</th>\n",
       "      <th>RET_FTL4</th>\n",
       "      <th>RET_PTL4</th>\n",
       "      <th>C150_4</th>\n",
       "      <th>...</th>\n",
       "      <th>STD</th>\n",
       "      <th>racediversityrank</th>\n",
       "      <th>PPTUG_EF</th>\n",
       "      <th>parttimerank</th>\n",
       "      <th>Violentcrimerate</th>\n",
       "      <th>violentrank</th>\n",
       "      <th>Propertycrimerate</th>\n",
       "      <th>propertyrank</th>\n",
       "      <th>Arsoncrimerate</th>\n",
       "      <th>arsonrank</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Academy of Art University</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>0.0</td>\n",
       "      <td>2.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.710</td>\n",
       "      <td>0.4131</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.3188</td>\n",
       "      <td>...</td>\n",
       "      <td>0.101867</td>\n",
       "      <td>3.0</td>\n",
       "      <td>0.4475</td>\n",
       "      <td>374.0</td>\n",
       "      <td>669.633536</td>\n",
       "      <td>8.0</td>\n",
       "      <td>5505.599843</td>\n",
       "      <td>12.0</td>\n",
       "      <td>31.038129</td>\n",
       "      <td>11.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>American Conservatory Theater</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>1.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>669.633536</td>\n",
       "      <td>8.0</td>\n",
       "      <td>5505.599843</td>\n",
       "      <td>12.0</td>\n",
       "      <td>31.038129</td>\n",
       "      <td>11.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>California Institute of Integral Studies</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>0.169592</td>\n",
       "      <td>223.0</td>\n",
       "      <td>0.0933</td>\n",
       "      <td>115.0</td>\n",
       "      <td>669.633536</td>\n",
       "      <td>8.0</td>\n",
       "      <td>5505.599843</td>\n",
       "      <td>12.0</td>\n",
       "      <td>31.038129</td>\n",
       "      <td>11.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>California College of the Arts</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.8157</td>\n",
       "      <td>0.819</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.6183</td>\n",
       "      <td>...</td>\n",
       "      <td>0.114560</td>\n",
       "      <td>19.0</td>\n",
       "      <td>0.0499</td>\n",
       "      <td>154.0</td>\n",
       "      <td>669.633536</td>\n",
       "      <td>8.0</td>\n",
       "      <td>5505.599843</td>\n",
       "      <td>12.0</td>\n",
       "      <td>31.038129</td>\n",
       "      <td>11.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>University of California-Hastings College of Law</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>669.633536</td>\n",
       "      <td>8.0</td>\n",
       "      <td>5505.599843</td>\n",
       "      <td>12.0</td>\n",
       "      <td>31.038129</td>\n",
       "      <td>11.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>677</th>\n",
       "      <td>The Seattle School of Theology &amp; Psychology</td>\n",
       "      <td>Seattle</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>585.434709</td>\n",
       "      <td>7.0</td>\n",
       "      <td>4495.578141</td>\n",
       "      <td>11.0</td>\n",
       "      <td>12.832163</td>\n",
       "      <td>6.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>678</th>\n",
       "      <td>Gary Manuel Aveda Institute</td>\n",
       "      <td>Seattle</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.8347</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.9038</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>0.218029</td>\n",
       "      <td>362.0</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>297.0</td>\n",
       "      <td>585.434709</td>\n",
       "      <td>7.0</td>\n",
       "      <td>4495.578141</td>\n",
       "      <td>11.0</td>\n",
       "      <td>12.832163</td>\n",
       "      <td>6.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>679</th>\n",
       "      <td>Bainbridge Graduate Institute</td>\n",
       "      <td>Seattle</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>585.434709</td>\n",
       "      <td>7.0</td>\n",
       "      <td>4495.578141</td>\n",
       "      <td>11.0</td>\n",
       "      <td>12.832163</td>\n",
       "      <td>6.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>680</th>\n",
       "      <td>Academy of Interactive Entertainment</td>\n",
       "      <td>Seattle</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.7647</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.7143</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>0.181179</td>\n",
       "      <td>261.0</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>297.0</td>\n",
       "      <td>585.434709</td>\n",
       "      <td>7.0</td>\n",
       "      <td>4495.578141</td>\n",
       "      <td>11.0</td>\n",
       "      <td>12.832163</td>\n",
       "      <td>6.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>681</th>\n",
       "      <td>Golden Gate University-Seattle</td>\n",
       "      <td>Seattle</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>585.434709</td>\n",
       "      <td>7.0</td>\n",
       "      <td>4495.578141</td>\n",
       "      <td>11.0</td>\n",
       "      <td>12.832163</td>\n",
       "      <td>6.0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>682 rows × 44 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                                               INSTNM           CITY  PCIP13  \\\n",
       "0                           Academy of Art University  San Francisco     0.0   \n",
       "1                       American Conservatory Theater  San Francisco     0.0   \n",
       "2            California Institute of Integral Studies  San Francisco     0.0   \n",
       "3                      California College of the Arts  San Francisco     0.0   \n",
       "4    University of California-Hastings College of Law  San Francisco     NaN   \n",
       "..                                                ...            ...     ...   \n",
       "677       The Seattle School of Theology & Psychology        Seattle     NaN   \n",
       "678                       Gary Manuel Aveda Institute        Seattle     0.0   \n",
       "679                     Bainbridge Graduate Institute        Seattle     NaN   \n",
       "680              Academy of Interactive Entertainment        Seattle     0.0   \n",
       "681                    Golden Gate University-Seattle        Seattle     NaN   \n",
       "\n",
       "     CIP13BACHL  ADM_RATE_ALL  RET_FT4  RET_PT4  RET_FTL4  RET_PTL4  C150_4  \\\n",
       "0           2.0           NaN    0.710   0.4131       NaN       NaN  0.3188   \n",
       "1           0.0           NaN      NaN      NaN       NaN       NaN     NaN   \n",
       "2           0.0           NaN      NaN      NaN       NaN       NaN     NaN   \n",
       "3           0.0        0.8157    0.819      NaN       NaN       NaN  0.6183   \n",
       "4           0.0           NaN      NaN      NaN       NaN       NaN     NaN   \n",
       "..          ...           ...      ...      ...       ...       ...     ...   \n",
       "677         0.0           NaN      NaN      NaN       NaN       NaN     NaN   \n",
       "678         0.0        0.8347      NaN      NaN    0.9038       NaN     NaN   \n",
       "679         0.0           NaN      NaN      NaN       NaN       NaN     NaN   \n",
       "680         0.0        0.7647      NaN      NaN    0.7143       NaN     NaN   \n",
       "681         NaN           NaN      NaN      NaN       NaN       NaN     NaN   \n",
       "\n",
       "     ...       STD  racediversityrank  PPTUG_EF parttimerank Violentcrimerate  \\\n",
       "0    ...  0.101867                3.0    0.4475        374.0       669.633536   \n",
       "1    ...  0.000000                1.0       NaN          NaN       669.633536   \n",
       "2    ...  0.169592              223.0    0.0933        115.0       669.633536   \n",
       "3    ...  0.114560               19.0    0.0499        154.0       669.633536   \n",
       "4    ...       NaN                NaN       NaN          NaN       669.633536   \n",
       "..   ...       ...                ...       ...          ...              ...   \n",
       "677  ...       NaN                NaN       NaN          NaN       585.434709   \n",
       "678  ...  0.218029              362.0    0.0000        297.0       585.434709   \n",
       "679  ...       NaN                NaN       NaN          NaN       585.434709   \n",
       "680  ...  0.181179              261.0    0.0000        297.0       585.434709   \n",
       "681  ...       NaN                NaN       NaN          NaN       585.434709   \n",
       "\n",
       "     violentrank Propertycrimerate propertyrank Arsoncrimerate arsonrank  \n",
       "0            8.0       5505.599843         12.0      31.038129      11.0  \n",
       "1            8.0       5505.599843         12.0      31.038129      11.0  \n",
       "2            8.0       5505.599843         12.0      31.038129      11.0  \n",
       "3            8.0       5505.599843         12.0      31.038129      11.0  \n",
       "4            8.0       5505.599843         12.0      31.038129      11.0  \n",
       "..           ...               ...          ...            ...       ...  \n",
       "677          7.0       4495.578141         11.0      12.832163       6.0  \n",
       "678          7.0       4495.578141         11.0      12.832163       6.0  \n",
       "679          7.0       4495.578141         11.0      12.832163       6.0  \n",
       "680          7.0       4495.578141         11.0      12.832163       6.0  \n",
       "681          7.0       4495.578141         11.0      12.832163       6.0  \n",
       "\n",
       "[682 rows x 44 columns]"
      ]
     },
     "execution_count": 461,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# merge the dataset of quality, diversity, and safety aspects.\n",
    "safety = Safety [[ 'CITY', 'Violentcrimerate', 'violentrank', 'Propertycrimerate', 'propertyrank', 'Arsoncrimerate', 'arsonrank' ]]\n",
    "dfm1 = pd.merge (quality, diversity)\n",
    "dfm2 = pd.merge (dfm1, safety)\n",
    "dfm2"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 462,
   "id": "f3e49348",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>INSTNM</th>\n",
       "      <th>CITY</th>\n",
       "      <th>PCIP13</th>\n",
       "      <th>CIP13BACHL</th>\n",
       "      <th>ADM_RATE_ALL</th>\n",
       "      <th>RET_FT4</th>\n",
       "      <th>RET_PT4</th>\n",
       "      <th>RET_FTL4</th>\n",
       "      <th>RET_PTL4</th>\n",
       "      <th>C150_4</th>\n",
       "      <th>...</th>\n",
       "      <th>racediversityrank</th>\n",
       "      <th>PPTUG_EF</th>\n",
       "      <th>parttimerank</th>\n",
       "      <th>Violentcrimerate</th>\n",
       "      <th>violentrank</th>\n",
       "      <th>Propertycrimerate</th>\n",
       "      <th>propertyrank</th>\n",
       "      <th>Arsoncrimerate</th>\n",
       "      <th>arsonrank</th>\n",
       "      <th>averagerank</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Academy of Art University</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>2.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.7100</td>\n",
       "      <td>0.4131</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.3188</td>\n",
       "      <td>...</td>\n",
       "      <td>3.0</td>\n",
       "      <td>0.4475</td>\n",
       "      <td>374.0</td>\n",
       "      <td>669.633536</td>\n",
       "      <td>8.0</td>\n",
       "      <td>5505.599843</td>\n",
       "      <td>12.0</td>\n",
       "      <td>31.038129</td>\n",
       "      <td>11.0</td>\n",
       "      <td>143.357143</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>California College of the Arts</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.8157</td>\n",
       "      <td>0.8190</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.6183</td>\n",
       "      <td>...</td>\n",
       "      <td>19.0</td>\n",
       "      <td>0.0499</td>\n",
       "      <td>154.0</td>\n",
       "      <td>669.633536</td>\n",
       "      <td>8.0</td>\n",
       "      <td>5505.599843</td>\n",
       "      <td>12.0</td>\n",
       "      <td>31.038129</td>\n",
       "      <td>11.0</td>\n",
       "      <td>130.964286</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>8</th>\n",
       "      <td>Fashion Institute of Design &amp; Merchandising-Sa...</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.5979</td>\n",
       "      <td>1.0000</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.5667</td>\n",
       "      <td>...</td>\n",
       "      <td>37.0</td>\n",
       "      <td>0.0895</td>\n",
       "      <td>120.0</td>\n",
       "      <td>669.633536</td>\n",
       "      <td>8.0</td>\n",
       "      <td>5505.599843</td>\n",
       "      <td>12.0</td>\n",
       "      <td>31.038129</td>\n",
       "      <td>11.0</td>\n",
       "      <td>129.642857</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>11</th>\n",
       "      <td>The Art Institute of California-Argosy Univers...</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.5455</td>\n",
       "      <td>0.4035</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.3604</td>\n",
       "      <td>...</td>\n",
       "      <td>143.0</td>\n",
       "      <td>0.3765</td>\n",
       "      <td>149.0</td>\n",
       "      <td>669.633536</td>\n",
       "      <td>8.0</td>\n",
       "      <td>5505.599843</td>\n",
       "      <td>12.0</td>\n",
       "      <td>31.038129</td>\n",
       "      <td>11.0</td>\n",
       "      <td>164.928571</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>14</th>\n",
       "      <td>San Francisco Art Institute</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.8269</td>\n",
       "      <td>0.6543</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.2881</td>\n",
       "      <td>...</td>\n",
       "      <td>118.0</td>\n",
       "      <td>0.0598</td>\n",
       "      <td>144.0</td>\n",
       "      <td>669.633536</td>\n",
       "      <td>8.0</td>\n",
       "      <td>5505.599843</td>\n",
       "      <td>12.0</td>\n",
       "      <td>31.038129</td>\n",
       "      <td>11.0</td>\n",
       "      <td>157.966667</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>660</th>\n",
       "      <td>Cornish College of the Arts</td>\n",
       "      <td>Seattle</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.5917</td>\n",
       "      <td>0.7806</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.4682</td>\n",
       "      <td>...</td>\n",
       "      <td>322.0</td>\n",
       "      <td>0.0335</td>\n",
       "      <td>178.0</td>\n",
       "      <td>585.434709</td>\n",
       "      <td>7.0</td>\n",
       "      <td>4495.578141</td>\n",
       "      <td>11.0</td>\n",
       "      <td>12.832163</td>\n",
       "      <td>6.0</td>\n",
       "      <td>167.071429</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>662</th>\n",
       "      <td>ITT Technical Institute-Seattle</td>\n",
       "      <td>Seattle</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.9407</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.3333</td>\n",
       "      <td>...</td>\n",
       "      <td>129.0</td>\n",
       "      <td>0.2072</td>\n",
       "      <td>4.0</td>\n",
       "      <td>585.434709</td>\n",
       "      <td>7.0</td>\n",
       "      <td>4495.578141</td>\n",
       "      <td>11.0</td>\n",
       "      <td>12.832163</td>\n",
       "      <td>6.0</td>\n",
       "      <td>153.346154</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>667</th>\n",
       "      <td>Seattle Pacific University</td>\n",
       "      <td>Seattle</td>\n",
       "      <td>0.0400</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.7214</td>\n",
       "      <td>0.8546</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.6899</td>\n",
       "      <td>...</td>\n",
       "      <td>344.0</td>\n",
       "      <td>0.0376</td>\n",
       "      <td>171.0</td>\n",
       "      <td>585.434709</td>\n",
       "      <td>7.0</td>\n",
       "      <td>4495.578141</td>\n",
       "      <td>11.0</td>\n",
       "      <td>12.832163</td>\n",
       "      <td>6.0</td>\n",
       "      <td>133.892857</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>668</th>\n",
       "      <td>Seattle University</td>\n",
       "      <td>Seattle</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.7323</td>\n",
       "      <td>0.8602</td>\n",
       "      <td>1.0000</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.7663</td>\n",
       "      <td>...</td>\n",
       "      <td>103.0</td>\n",
       "      <td>0.0477</td>\n",
       "      <td>157.0</td>\n",
       "      <td>585.434709</td>\n",
       "      <td>7.0</td>\n",
       "      <td>4495.578141</td>\n",
       "      <td>11.0</td>\n",
       "      <td>12.832163</td>\n",
       "      <td>6.0</td>\n",
       "      <td>114.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>669</th>\n",
       "      <td>University of Washington-Seattle Campus</td>\n",
       "      <td>Seattle</td>\n",
       "      <td>0.0123</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.5778</td>\n",
       "      <td>0.9303</td>\n",
       "      <td>0.7534</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.8183</td>\n",
       "      <td>...</td>\n",
       "      <td>110.0</td>\n",
       "      <td>0.0605</td>\n",
       "      <td>143.0</td>\n",
       "      <td>585.434709</td>\n",
       "      <td>7.0</td>\n",
       "      <td>4495.578141</td>\n",
       "      <td>11.0</td>\n",
       "      <td>12.832163</td>\n",
       "      <td>6.0</td>\n",
       "      <td>120.333333</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>146 rows × 45 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                                                INSTNM           CITY  PCIP13  \\\n",
       "0                            Academy of Art University  San Francisco  0.0000   \n",
       "3                       California College of the Arts  San Francisco  0.0000   \n",
       "8    Fashion Institute of Design & Merchandising-Sa...  San Francisco  0.0000   \n",
       "11   The Art Institute of California-Argosy Univers...  San Francisco  0.0000   \n",
       "14                         San Francisco Art Institute  San Francisco  0.0000   \n",
       "..                                                 ...            ...     ...   \n",
       "660                        Cornish College of the Arts        Seattle  0.0000   \n",
       "662                    ITT Technical Institute-Seattle        Seattle  0.0000   \n",
       "667                         Seattle Pacific University        Seattle  0.0400   \n",
       "668                                 Seattle University        Seattle  0.0000   \n",
       "669            University of Washington-Seattle Campus        Seattle  0.0123   \n",
       "\n",
       "     CIP13BACHL  ADM_RATE_ALL  RET_FT4  RET_PT4  RET_FTL4  RET_PTL4  C150_4  \\\n",
       "0           2.0           NaN   0.7100   0.4131       NaN       NaN  0.3188   \n",
       "3           0.0        0.8157   0.8190      NaN       NaN       NaN  0.6183   \n",
       "8           0.0        0.5979   1.0000      NaN       NaN       NaN  0.5667   \n",
       "11          0.0           NaN   0.5455   0.4035       NaN       NaN  0.3604   \n",
       "14          0.0        0.8269   0.6543   0.0000       NaN       NaN  0.2881   \n",
       "..          ...           ...      ...      ...       ...       ...     ...   \n",
       "660         0.0        0.5917   0.7806      NaN       NaN       NaN  0.4682   \n",
       "662         0.0        0.9407      NaN      NaN       NaN       NaN  0.3333   \n",
       "667         1.0        0.7214   0.8546      NaN       NaN       NaN  0.6899   \n",
       "668         1.0        0.7323   0.8602   1.0000       NaN       NaN  0.7663   \n",
       "669         1.0        0.5778   0.9303   0.7534       NaN       NaN  0.8183   \n",
       "\n",
       "     ...  racediversityrank  PPTUG_EF  parttimerank Violentcrimerate  \\\n",
       "0    ...                3.0    0.4475         374.0       669.633536   \n",
       "3    ...               19.0    0.0499         154.0       669.633536   \n",
       "8    ...               37.0    0.0895         120.0       669.633536   \n",
       "11   ...              143.0    0.3765         149.0       669.633536   \n",
       "14   ...              118.0    0.0598         144.0       669.633536   \n",
       "..   ...                ...       ...           ...              ...   \n",
       "660  ...              322.0    0.0335         178.0       585.434709   \n",
       "662  ...              129.0    0.2072           4.0       585.434709   \n",
       "667  ...              344.0    0.0376         171.0       585.434709   \n",
       "668  ...              103.0    0.0477         157.0       585.434709   \n",
       "669  ...              110.0    0.0605         143.0       585.434709   \n",
       "\n",
       "    violentrank  Propertycrimerate propertyrank Arsoncrimerate arsonrank  \\\n",
       "0           8.0        5505.599843         12.0      31.038129      11.0   \n",
       "3           8.0        5505.599843         12.0      31.038129      11.0   \n",
       "8           8.0        5505.599843         12.0      31.038129      11.0   \n",
       "11          8.0        5505.599843         12.0      31.038129      11.0   \n",
       "14          8.0        5505.599843         12.0      31.038129      11.0   \n",
       "..          ...                ...          ...            ...       ...   \n",
       "660         7.0        4495.578141         11.0      12.832163       6.0   \n",
       "662         7.0        4495.578141         11.0      12.832163       6.0   \n",
       "667         7.0        4495.578141         11.0      12.832163       6.0   \n",
       "668         7.0        4495.578141         11.0      12.832163       6.0   \n",
       "669         7.0        4495.578141         11.0      12.832163       6.0   \n",
       "\n",
       "    averagerank  \n",
       "0    143.357143  \n",
       "3    130.964286  \n",
       "8    129.642857  \n",
       "11   164.928571  \n",
       "14   157.966667  \n",
       "..          ...  \n",
       "660  167.071429  \n",
       "662  153.346154  \n",
       "667  133.892857  \n",
       "668  114.000000  \n",
       "669  120.333333  \n",
       "\n",
       "[146 rows x 45 columns]"
      ]
     },
     "execution_count": 462,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# calculate average rank of each variable\n",
    "dfm2 ['averagerank'] = dfm2[['admissionraterank', 'retentionrate1rank','retentionrate2rank', 'retentionrate3rank', 'retentionrate4rank', 'completionrate1rank', 'completionrate2rank', 'CDR3rank', 'GRAD_DEBT_MDNrank', 'WDRAW_DEBT_MDNrank', 'Revenuendcostofschool1rank', 'Revenuendcostofschool2rank','racediversityrank', 'parttimerank', 'violentrank', 'propertyrank', 'arsonrank']].mean(axis=1)\n",
    "dfm2 = dfm2.dropna(axis = 0, thresh=36) # eliminate rows with more than 3 missing values\n",
    "dfm2"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 463,
   "id": "43db9cf2",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>INSTNM</th>\n",
       "      <th>CITY</th>\n",
       "      <th>PCIP13</th>\n",
       "      <th>CIP13BACHL</th>\n",
       "      <th>ADM_RATE_ALL</th>\n",
       "      <th>RET_FT4</th>\n",
       "      <th>RET_PT4</th>\n",
       "      <th>RET_FTL4</th>\n",
       "      <th>RET_PTL4</th>\n",
       "      <th>C150_4</th>\n",
       "      <th>...</th>\n",
       "      <th>racediversityrank</th>\n",
       "      <th>PPTUG_EF</th>\n",
       "      <th>parttimerank</th>\n",
       "      <th>Violentcrimerate</th>\n",
       "      <th>violentrank</th>\n",
       "      <th>Propertycrimerate</th>\n",
       "      <th>propertyrank</th>\n",
       "      <th>Arsoncrimerate</th>\n",
       "      <th>arsonrank</th>\n",
       "      <th>averagerank</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>328</th>\n",
       "      <td>Lexington College</td>\n",
       "      <td>Chicago</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.8919</td>\n",
       "      <td>0.8571</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.5000</td>\n",
       "      <td>...</td>\n",
       "      <td>114.0</td>\n",
       "      <td>0.1818</td>\n",
       "      <td>27.0</td>\n",
       "      <td>943.162038</td>\n",
       "      <td>12.0</td>\n",
       "      <td>2982.640972</td>\n",
       "      <td>6.0</td>\n",
       "      <td>15.367202</td>\n",
       "      <td>8.0</td>\n",
       "      <td>87.192308</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>392</th>\n",
       "      <td>Dallas Christian College</td>\n",
       "      <td>Dallas</td>\n",
       "      <td>0.0952</td>\n",
       "      <td>2.0</td>\n",
       "      <td>0.5516</td>\n",
       "      <td>0.5833</td>\n",
       "      <td>0.5000</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.3023</td>\n",
       "      <td>...</td>\n",
       "      <td>221.0</td>\n",
       "      <td>0.2753</td>\n",
       "      <td>51.0</td>\n",
       "      <td>282.635577</td>\n",
       "      <td>2.0</td>\n",
       "      <td>1919.566625</td>\n",
       "      <td>4.0</td>\n",
       "      <td>11.776482</td>\n",
       "      <td>5.0</td>\n",
       "      <td>100.800000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>391</th>\n",
       "      <td>Dallas Christian College</td>\n",
       "      <td>Dallas</td>\n",
       "      <td>0.0952</td>\n",
       "      <td>2.0</td>\n",
       "      <td>0.5516</td>\n",
       "      <td>0.5833</td>\n",
       "      <td>0.5000</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.3023</td>\n",
       "      <td>...</td>\n",
       "      <td>221.0</td>\n",
       "      <td>0.2753</td>\n",
       "      <td>51.0</td>\n",
       "      <td>417.798203</td>\n",
       "      <td>5.0</td>\n",
       "      <td>3196.156257</td>\n",
       "      <td>7.0</td>\n",
       "      <td>20.889910</td>\n",
       "      <td>10.0</td>\n",
       "      <td>101.533333</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>393</th>\n",
       "      <td>Dallas Christian College</td>\n",
       "      <td>Dallas</td>\n",
       "      <td>0.0952</td>\n",
       "      <td>2.0</td>\n",
       "      <td>0.5516</td>\n",
       "      <td>0.5833</td>\n",
       "      <td>0.5000</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.3023</td>\n",
       "      <td>...</td>\n",
       "      <td>221.0</td>\n",
       "      <td>0.2753</td>\n",
       "      <td>51.0</td>\n",
       "      <td>862.909348</td>\n",
       "      <td>11.0</td>\n",
       "      <td>3321.291430</td>\n",
       "      <td>8.0</td>\n",
       "      <td>10.562644</td>\n",
       "      <td>4.0</td>\n",
       "      <td>101.600000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>119</th>\n",
       "      <td>San Diego State University</td>\n",
       "      <td>San Diego</td>\n",
       "      <td>0.0226</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.3133</td>\n",
       "      <td>0.8775</td>\n",
       "      <td>0.7548</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.6616</td>\n",
       "      <td>...</td>\n",
       "      <td>73.0</td>\n",
       "      <td>0.1046</td>\n",
       "      <td>102.0</td>\n",
       "      <td>165.641268</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>1.5</td>\n",
       "      <td>103.766667</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>118</th>\n",
       "      <td>San Diego State University</td>\n",
       "      <td>San Diego</td>\n",
       "      <td>0.0226</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.3133</td>\n",
       "      <td>0.8775</td>\n",
       "      <td>0.7548</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.6616</td>\n",
       "      <td>...</td>\n",
       "      <td>73.0</td>\n",
       "      <td>0.1046</td>\n",
       "      <td>102.0</td>\n",
       "      <td>361.716457</td>\n",
       "      <td>4.0</td>\n",
       "      <td>1882.520876</td>\n",
       "      <td>3.0</td>\n",
       "      <td>8.462015</td>\n",
       "      <td>3.0</td>\n",
       "      <td>104.200000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>97</th>\n",
       "      <td>Design Institute of San Diego</td>\n",
       "      <td>San Diego</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.6250</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.6667</td>\n",
       "      <td>...</td>\n",
       "      <td>355.0</td>\n",
       "      <td>0.3425</td>\n",
       "      <td>118.0</td>\n",
       "      <td>165.641268</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>1.5</td>\n",
       "      <td>107.964286</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>96</th>\n",
       "      <td>Design Institute of San Diego</td>\n",
       "      <td>San Diego</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.6250</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.6667</td>\n",
       "      <td>...</td>\n",
       "      <td>355.0</td>\n",
       "      <td>0.3425</td>\n",
       "      <td>118.0</td>\n",
       "      <td>361.716457</td>\n",
       "      <td>4.0</td>\n",
       "      <td>1882.520876</td>\n",
       "      <td>3.0</td>\n",
       "      <td>8.462015</td>\n",
       "      <td>3.0</td>\n",
       "      <td>108.428571</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>522</th>\n",
       "      <td>University of Houston</td>\n",
       "      <td>Houston</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.5841</td>\n",
       "      <td>0.8463</td>\n",
       "      <td>0.7042</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.4754</td>\n",
       "      <td>...</td>\n",
       "      <td>38.0</td>\n",
       "      <td>0.2596</td>\n",
       "      <td>35.0</td>\n",
       "      <td>286.944046</td>\n",
       "      <td>3.0</td>\n",
       "      <td>5691.056911</td>\n",
       "      <td>13.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>1.5</td>\n",
       "      <td>111.366667</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>342</th>\n",
       "      <td>Robert Morris University Illinois</td>\n",
       "      <td>Chicago</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.2100</td>\n",
       "      <td>0.4722</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.4608</td>\n",
       "      <td>...</td>\n",
       "      <td>147.0</td>\n",
       "      <td>0.0454</td>\n",
       "      <td>159.0</td>\n",
       "      <td>943.162038</td>\n",
       "      <td>12.0</td>\n",
       "      <td>2982.640972</td>\n",
       "      <td>6.0</td>\n",
       "      <td>15.367202</td>\n",
       "      <td>8.0</td>\n",
       "      <td>112.285714</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>523</th>\n",
       "      <td>University of Houston</td>\n",
       "      <td>Houston</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.5841</td>\n",
       "      <td>0.8463</td>\n",
       "      <td>0.7042</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.4754</td>\n",
       "      <td>...</td>\n",
       "      <td>38.0</td>\n",
       "      <td>0.2596</td>\n",
       "      <td>35.0</td>\n",
       "      <td>1072.208171</td>\n",
       "      <td>13.0</td>\n",
       "      <td>4319.482970</td>\n",
       "      <td>10.0</td>\n",
       "      <td>20.589182</td>\n",
       "      <td>9.0</td>\n",
       "      <td>112.333333</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>169</th>\n",
       "      <td>Westwood College-Denver South</td>\n",
       "      <td>Denver</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.5000</td>\n",
       "      <td>...</td>\n",
       "      <td>158.0</td>\n",
       "      <td>0.3273</td>\n",
       "      <td>100.0</td>\n",
       "      <td>748.894629</td>\n",
       "      <td>10.0</td>\n",
       "      <td>3743.512849</td>\n",
       "      <td>9.0</td>\n",
       "      <td>14.678829</td>\n",
       "      <td>7.0</td>\n",
       "      <td>112.423077</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>237</th>\n",
       "      <td>School of Visual Arts</td>\n",
       "      <td>New York</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.7489</td>\n",
       "      <td>0.8293</td>\n",
       "      <td>0.5000</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.6459</td>\n",
       "      <td>...</td>\n",
       "      <td>102.0</td>\n",
       "      <td>0.0415</td>\n",
       "      <td>165.5</td>\n",
       "      <td>570.721501</td>\n",
       "      <td>6.0</td>\n",
       "      <td>1459.581959</td>\n",
       "      <td>2.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>113.107143</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>668</th>\n",
       "      <td>Seattle University</td>\n",
       "      <td>Seattle</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.7323</td>\n",
       "      <td>0.8602</td>\n",
       "      <td>1.0000</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.7663</td>\n",
       "      <td>...</td>\n",
       "      <td>103.0</td>\n",
       "      <td>0.0477</td>\n",
       "      <td>157.0</td>\n",
       "      <td>585.434709</td>\n",
       "      <td>7.0</td>\n",
       "      <td>4495.578141</td>\n",
       "      <td>11.0</td>\n",
       "      <td>12.832163</td>\n",
       "      <td>6.0</td>\n",
       "      <td>114.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>532</th>\n",
       "      <td>University of St Thomas</td>\n",
       "      <td>Houston</td>\n",
       "      <td>0.0758</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.7724</td>\n",
       "      <td>0.7660</td>\n",
       "      <td>0.6667</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.5104</td>\n",
       "      <td>...</td>\n",
       "      <td>93.0</td>\n",
       "      <td>0.1785</td>\n",
       "      <td>29.0</td>\n",
       "      <td>286.944046</td>\n",
       "      <td>3.0</td>\n",
       "      <td>5691.056911</td>\n",
       "      <td>13.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>1.5</td>\n",
       "      <td>115.133333</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>338</th>\n",
       "      <td>North Park University</td>\n",
       "      <td>Chicago</td>\n",
       "      <td>0.0825</td>\n",
       "      <td>2.0</td>\n",
       "      <td>0.5234</td>\n",
       "      <td>0.8064</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.5630</td>\n",
       "      <td>...</td>\n",
       "      <td>200.0</td>\n",
       "      <td>0.1507</td>\n",
       "      <td>56.0</td>\n",
       "      <td>943.162038</td>\n",
       "      <td>12.0</td>\n",
       "      <td>2982.640972</td>\n",
       "      <td>6.0</td>\n",
       "      <td>15.367202</td>\n",
       "      <td>8.0</td>\n",
       "      <td>115.428571</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>533</th>\n",
       "      <td>University of St Thomas</td>\n",
       "      <td>Houston</td>\n",
       "      <td>0.0758</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.7724</td>\n",
       "      <td>0.7660</td>\n",
       "      <td>0.6667</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.5104</td>\n",
       "      <td>...</td>\n",
       "      <td>93.0</td>\n",
       "      <td>0.1785</td>\n",
       "      <td>29.0</td>\n",
       "      <td>1072.208171</td>\n",
       "      <td>13.0</td>\n",
       "      <td>4319.482970</td>\n",
       "      <td>10.0</td>\n",
       "      <td>20.589182</td>\n",
       "      <td>9.0</td>\n",
       "      <td>116.100000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>49</th>\n",
       "      <td>University of Southern California</td>\n",
       "      <td>Los Angeles</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.1984</td>\n",
       "      <td>0.9599</td>\n",
       "      <td>0.4000</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.9117</td>\n",
       "      <td>...</td>\n",
       "      <td>43.0</td>\n",
       "      <td>0.0281</td>\n",
       "      <td>185.0</td>\n",
       "      <td>732.154482</td>\n",
       "      <td>9.0</td>\n",
       "      <td>2383.337160</td>\n",
       "      <td>5.0</td>\n",
       "      <td>41.638173</td>\n",
       "      <td>12.0</td>\n",
       "      <td>116.300000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>193</th>\n",
       "      <td>Columbia University in the City of New York</td>\n",
       "      <td>New York</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0742</td>\n",
       "      <td>0.9734</td>\n",
       "      <td>0.9655</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.9329</td>\n",
       "      <td>...</td>\n",
       "      <td>33.0</td>\n",
       "      <td>0.0748</td>\n",
       "      <td>132.0</td>\n",
       "      <td>570.721501</td>\n",
       "      <td>6.0</td>\n",
       "      <td>1459.581959</td>\n",
       "      <td>2.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>116.392857</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>272</th>\n",
       "      <td>American Academy of Art</td>\n",
       "      <td>Chicago</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.9300</td>\n",
       "      <td>0.8148</td>\n",
       "      <td>0.6061</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.4242</td>\n",
       "      <td>...</td>\n",
       "      <td>257.0</td>\n",
       "      <td>0.2635</td>\n",
       "      <td>39.0</td>\n",
       "      <td>943.162038</td>\n",
       "      <td>12.0</td>\n",
       "      <td>2982.640972</td>\n",
       "      <td>6.0</td>\n",
       "      <td>15.367202</td>\n",
       "      <td>8.0</td>\n",
       "      <td>116.400000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>31</th>\n",
       "      <td>University of California-Los Angeles</td>\n",
       "      <td>Los Angeles</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.2199</td>\n",
       "      <td>0.9626</td>\n",
       "      <td>0.7500</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.9031</td>\n",
       "      <td>...</td>\n",
       "      <td>32.0</td>\n",
       "      <td>0.0206</td>\n",
       "      <td>198.0</td>\n",
       "      <td>732.154482</td>\n",
       "      <td>9.0</td>\n",
       "      <td>2383.337160</td>\n",
       "      <td>5.0</td>\n",
       "      <td>41.638173</td>\n",
       "      <td>12.0</td>\n",
       "      <td>116.500000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>33</th>\n",
       "      <td>Fashion Institute of Design &amp; Merchandising-Lo...</td>\n",
       "      <td>Los Angeles</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.5979</td>\n",
       "      <td>0.9346</td>\n",
       "      <td>1.0000</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.6196</td>\n",
       "      <td>...</td>\n",
       "      <td>12.0</td>\n",
       "      <td>0.1119</td>\n",
       "      <td>88.0</td>\n",
       "      <td>732.154482</td>\n",
       "      <td>9.0</td>\n",
       "      <td>2383.337160</td>\n",
       "      <td>5.0</td>\n",
       "      <td>41.638173</td>\n",
       "      <td>12.0</td>\n",
       "      <td>116.600000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>322</th>\n",
       "      <td>Illinois Institute of Technology</td>\n",
       "      <td>Chicago</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.5697</td>\n",
       "      <td>0.8596</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.6250</td>\n",
       "      <td>...</td>\n",
       "      <td>49.0</td>\n",
       "      <td>0.0511</td>\n",
       "      <td>152.0</td>\n",
       "      <td>943.162038</td>\n",
       "      <td>12.0</td>\n",
       "      <td>2982.640972</td>\n",
       "      <td>6.0</td>\n",
       "      <td>15.367202</td>\n",
       "      <td>8.0</td>\n",
       "      <td>116.892857</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>158</th>\n",
       "      <td>Westwood College-Denver North</td>\n",
       "      <td>Denver</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.7500</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.3231</td>\n",
       "      <td>...</td>\n",
       "      <td>206.0</td>\n",
       "      <td>0.2922</td>\n",
       "      <td>63.5</td>\n",
       "      <td>748.894629</td>\n",
       "      <td>10.0</td>\n",
       "      <td>3743.512849</td>\n",
       "      <td>9.0</td>\n",
       "      <td>14.678829</td>\n",
       "      <td>7.0</td>\n",
       "      <td>117.153846</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>129</th>\n",
       "      <td>University of Phoenix-San Diego Campus</td>\n",
       "      <td>San Diego</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>2.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.5049</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.1730</td>\n",
       "      <td>...</td>\n",
       "      <td>74.0</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>297.0</td>\n",
       "      <td>165.641268</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>1.5</td>\n",
       "      <td>117.692308</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>128</th>\n",
       "      <td>University of Phoenix-San Diego Campus</td>\n",
       "      <td>San Diego</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>2.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.5049</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.1730</td>\n",
       "      <td>...</td>\n",
       "      <td>74.0</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>297.0</td>\n",
       "      <td>361.716457</td>\n",
       "      <td>4.0</td>\n",
       "      <td>1882.520876</td>\n",
       "      <td>3.0</td>\n",
       "      <td>8.462015</td>\n",
       "      <td>3.0</td>\n",
       "      <td>118.192308</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>530</th>\n",
       "      <td>Rice University</td>\n",
       "      <td>Houston</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.1674</td>\n",
       "      <td>0.9817</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.9111</td>\n",
       "      <td>...</td>\n",
       "      <td>58.0</td>\n",
       "      <td>0.0135</td>\n",
       "      <td>205.0</td>\n",
       "      <td>286.944046</td>\n",
       "      <td>3.0</td>\n",
       "      <td>5691.056911</td>\n",
       "      <td>13.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>1.5</td>\n",
       "      <td>119.464286</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>121</th>\n",
       "      <td>University of San Diego</td>\n",
       "      <td>San Diego</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.4885</td>\n",
       "      <td>0.9021</td>\n",
       "      <td>1.0000</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.7502</td>\n",
       "      <td>...</td>\n",
       "      <td>242.0</td>\n",
       "      <td>0.0257</td>\n",
       "      <td>192.0</td>\n",
       "      <td>165.641268</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>1.5</td>\n",
       "      <td>119.900000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>588</th>\n",
       "      <td>University of Phoenix-Houston Campus</td>\n",
       "      <td>Houston</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.3942</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.1728</td>\n",
       "      <td>...</td>\n",
       "      <td>99.0</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>297.0</td>\n",
       "      <td>286.944046</td>\n",
       "      <td>3.0</td>\n",
       "      <td>5691.056911</td>\n",
       "      <td>13.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>1.5</td>\n",
       "      <td>120.230769</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>120</th>\n",
       "      <td>University of San Diego</td>\n",
       "      <td>San Diego</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.4885</td>\n",
       "      <td>0.9021</td>\n",
       "      <td>1.0000</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.7502</td>\n",
       "      <td>...</td>\n",
       "      <td>242.0</td>\n",
       "      <td>0.0257</td>\n",
       "      <td>192.0</td>\n",
       "      <td>361.716457</td>\n",
       "      <td>4.0</td>\n",
       "      <td>1882.520876</td>\n",
       "      <td>3.0</td>\n",
       "      <td>8.462015</td>\n",
       "      <td>3.0</td>\n",
       "      <td>120.333333</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>669</th>\n",
       "      <td>University of Washington-Seattle Campus</td>\n",
       "      <td>Seattle</td>\n",
       "      <td>0.0123</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.5778</td>\n",
       "      <td>0.9303</td>\n",
       "      <td>0.7534</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.8183</td>\n",
       "      <td>...</td>\n",
       "      <td>110.0</td>\n",
       "      <td>0.0605</td>\n",
       "      <td>143.0</td>\n",
       "      <td>585.434709</td>\n",
       "      <td>7.0</td>\n",
       "      <td>4495.578141</td>\n",
       "      <td>11.0</td>\n",
       "      <td>12.832163</td>\n",
       "      <td>6.0</td>\n",
       "      <td>120.333333</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>531</th>\n",
       "      <td>Rice University</td>\n",
       "      <td>Houston</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.1674</td>\n",
       "      <td>0.9817</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.9111</td>\n",
       "      <td>...</td>\n",
       "      <td>58.0</td>\n",
       "      <td>0.0135</td>\n",
       "      <td>205.0</td>\n",
       "      <td>1072.208171</td>\n",
       "      <td>13.0</td>\n",
       "      <td>4319.482970</td>\n",
       "      <td>10.0</td>\n",
       "      <td>20.589182</td>\n",
       "      <td>9.0</td>\n",
       "      <td>120.500000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>87</th>\n",
       "      <td>Alliant International University</td>\n",
       "      <td>San Diego</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.4922</td>\n",
       "      <td>0.7500</td>\n",
       "      <td>1.0000</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>24.0</td>\n",
       "      <td>0.3268</td>\n",
       "      <td>99.0</td>\n",
       "      <td>165.641268</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>1.5</td>\n",
       "      <td>120.607143</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>222</th>\n",
       "      <td>New York University</td>\n",
       "      <td>New York</td>\n",
       "      <td>0.0157</td>\n",
       "      <td>2.0</td>\n",
       "      <td>0.2881</td>\n",
       "      <td>0.9250</td>\n",
       "      <td>0.6154</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.8331</td>\n",
       "      <td>...</td>\n",
       "      <td>27.0</td>\n",
       "      <td>0.0492</td>\n",
       "      <td>155.0</td>\n",
       "      <td>570.721501</td>\n",
       "      <td>6.0</td>\n",
       "      <td>1459.581959</td>\n",
       "      <td>2.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>120.714286</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>383</th>\n",
       "      <td>Misericordia University</td>\n",
       "      <td>Dallas</td>\n",
       "      <td>0.0644</td>\n",
       "      <td>2.0</td>\n",
       "      <td>0.6489</td>\n",
       "      <td>0.8102</td>\n",
       "      <td>0.5833</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.6923</td>\n",
       "      <td>...</td>\n",
       "      <td>450.0</td>\n",
       "      <td>0.2422</td>\n",
       "      <td>20.0</td>\n",
       "      <td>282.635577</td>\n",
       "      <td>2.0</td>\n",
       "      <td>1919.566625</td>\n",
       "      <td>4.0</td>\n",
       "      <td>11.776482</td>\n",
       "      <td>5.0</td>\n",
       "      <td>120.866667</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>345</th>\n",
       "      <td>Saint Xavier University</td>\n",
       "      <td>Chicago</td>\n",
       "      <td>0.1209</td>\n",
       "      <td>2.0</td>\n",
       "      <td>0.5054</td>\n",
       "      <td>0.7548</td>\n",
       "      <td>0.5000</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.4714</td>\n",
       "      <td>...</td>\n",
       "      <td>217.0</td>\n",
       "      <td>0.1550</td>\n",
       "      <td>54.0</td>\n",
       "      <td>943.162038</td>\n",
       "      <td>12.0</td>\n",
       "      <td>2982.640972</td>\n",
       "      <td>6.0</td>\n",
       "      <td>15.367202</td>\n",
       "      <td>8.0</td>\n",
       "      <td>120.933333</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>17</th>\n",
       "      <td>University of San Francisco</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.6129</td>\n",
       "      <td>0.8646</td>\n",
       "      <td>1.0000</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.6901</td>\n",
       "      <td>...</td>\n",
       "      <td>11.0</td>\n",
       "      <td>0.0371</td>\n",
       "      <td>172.0</td>\n",
       "      <td>669.633536</td>\n",
       "      <td>8.0</td>\n",
       "      <td>5505.599843</td>\n",
       "      <td>12.0</td>\n",
       "      <td>31.038129</td>\n",
       "      <td>11.0</td>\n",
       "      <td>120.966667</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>16</th>\n",
       "      <td>San Francisco State University</td>\n",
       "      <td>San Francisco</td>\n",
       "      <td>0.0290</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.6379</td>\n",
       "      <td>0.8211</td>\n",
       "      <td>0.3529</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.4550</td>\n",
       "      <td>...</td>\n",
       "      <td>18.0</td>\n",
       "      <td>0.1359</td>\n",
       "      <td>67.0</td>\n",
       "      <td>669.633536</td>\n",
       "      <td>8.0</td>\n",
       "      <td>5505.599843</td>\n",
       "      <td>12.0</td>\n",
       "      <td>31.038129</td>\n",
       "      <td>11.0</td>\n",
       "      <td>121.033333</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>86</th>\n",
       "      <td>Alliant International University</td>\n",
       "      <td>San Diego</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.4922</td>\n",
       "      <td>0.7500</td>\n",
       "      <td>1.0000</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>24.0</td>\n",
       "      <td>0.3268</td>\n",
       "      <td>99.0</td>\n",
       "      <td>361.716457</td>\n",
       "      <td>4.0</td>\n",
       "      <td>1882.520876</td>\n",
       "      <td>3.0</td>\n",
       "      <td>8.462015</td>\n",
       "      <td>3.0</td>\n",
       "      <td>121.071429</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>589</th>\n",
       "      <td>University of Phoenix-Houston Campus</td>\n",
       "      <td>Houston</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>0.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.3942</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.1728</td>\n",
       "      <td>...</td>\n",
       "      <td>99.0</td>\n",
       "      <td>0.0000</td>\n",
       "      <td>297.0</td>\n",
       "      <td>1072.208171</td>\n",
       "      <td>13.0</td>\n",
       "      <td>4319.482970</td>\n",
       "      <td>10.0</td>\n",
       "      <td>20.589182</td>\n",
       "      <td>9.0</td>\n",
       "      <td>121.346154</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>40 rows × 45 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                                                INSTNM           CITY  PCIP13  \\\n",
       "328                                  Lexington College        Chicago  0.0000   \n",
       "392                           Dallas Christian College         Dallas  0.0952   \n",
       "391                           Dallas Christian College         Dallas  0.0952   \n",
       "393                           Dallas Christian College         Dallas  0.0952   \n",
       "119                         San Diego State University      San Diego  0.0226   \n",
       "118                         San Diego State University      San Diego  0.0226   \n",
       "97                       Design Institute of San Diego      San Diego  0.0000   \n",
       "96                       Design Institute of San Diego      San Diego  0.0000   \n",
       "522                              University of Houston        Houston  0.0000   \n",
       "342                  Robert Morris University Illinois        Chicago  0.0000   \n",
       "523                              University of Houston        Houston  0.0000   \n",
       "169                      Westwood College-Denver South         Denver  0.0000   \n",
       "237                              School of Visual Arts       New York  0.0000   \n",
       "668                                 Seattle University        Seattle  0.0000   \n",
       "532                            University of St Thomas        Houston  0.0758   \n",
       "338                              North Park University        Chicago  0.0825   \n",
       "533                            University of St Thomas        Houston  0.0758   \n",
       "49                   University of Southern California    Los Angeles  0.0000   \n",
       "193        Columbia University in the City of New York       New York  0.0000   \n",
       "272                            American Academy of Art        Chicago  0.0000   \n",
       "31                University of California-Los Angeles    Los Angeles  0.0000   \n",
       "33   Fashion Institute of Design & Merchandising-Lo...    Los Angeles  0.0000   \n",
       "322                   Illinois Institute of Technology        Chicago  0.0000   \n",
       "158                      Westwood College-Denver North         Denver  0.0000   \n",
       "129             University of Phoenix-San Diego Campus      San Diego  0.0000   \n",
       "128             University of Phoenix-San Diego Campus      San Diego  0.0000   \n",
       "530                                    Rice University        Houston  0.0000   \n",
       "121                            University of San Diego      San Diego  0.0000   \n",
       "588               University of Phoenix-Houston Campus        Houston  0.0000   \n",
       "120                            University of San Diego      San Diego  0.0000   \n",
       "669            University of Washington-Seattle Campus        Seattle  0.0123   \n",
       "531                                    Rice University        Houston  0.0000   \n",
       "87                    Alliant International University      San Diego  0.0000   \n",
       "222                                New York University       New York  0.0157   \n",
       "383                            Misericordia University         Dallas  0.0644   \n",
       "345                            Saint Xavier University        Chicago  0.1209   \n",
       "17                         University of San Francisco  San Francisco  0.0000   \n",
       "16                      San Francisco State University  San Francisco  0.0290   \n",
       "86                    Alliant International University      San Diego  0.0000   \n",
       "589               University of Phoenix-Houston Campus        Houston  0.0000   \n",
       "\n",
       "     CIP13BACHL  ADM_RATE_ALL  RET_FT4  RET_PT4  RET_FTL4  RET_PTL4  C150_4  \\\n",
       "328         0.0        0.8919   0.8571      NaN       NaN       NaN  0.5000   \n",
       "392         2.0        0.5516   0.5833   0.5000       NaN       NaN  0.3023   \n",
       "391         2.0        0.5516   0.5833   0.5000       NaN       NaN  0.3023   \n",
       "393         2.0        0.5516   0.5833   0.5000       NaN       NaN  0.3023   \n",
       "119         1.0        0.3133   0.8775   0.7548       NaN       NaN  0.6616   \n",
       "118         1.0        0.3133   0.8775   0.7548       NaN       NaN  0.6616   \n",
       "97          0.0           NaN   0.6250   0.0000       NaN       NaN  0.6667   \n",
       "96          0.0           NaN   0.6250   0.0000       NaN       NaN  0.6667   \n",
       "522         1.0        0.5841   0.8463   0.7042       NaN       NaN  0.4754   \n",
       "342         0.0        0.2100   0.4722      NaN       NaN       NaN  0.4608   \n",
       "523         1.0        0.5841   0.8463   0.7042       NaN       NaN  0.4754   \n",
       "169         0.0           NaN   0.0000      NaN       NaN       NaN  0.5000   \n",
       "237         1.0        0.7489   0.8293   0.5000       NaN       NaN  0.6459   \n",
       "668         1.0        0.7323   0.8602   1.0000       NaN       NaN  0.7663   \n",
       "532         1.0        0.7724   0.7660   0.6667       NaN       NaN  0.5104   \n",
       "338         2.0        0.5234   0.8064      NaN       NaN       NaN  0.5630   \n",
       "533         1.0        0.7724   0.7660   0.6667       NaN       NaN  0.5104   \n",
       "49          1.0        0.1984   0.9599   0.4000       NaN       NaN  0.9117   \n",
       "193         1.0        0.0742   0.9734   0.9655       NaN       NaN  0.9329   \n",
       "272         0.0        0.9300   0.8148   0.6061       NaN       NaN  0.4242   \n",
       "31          1.0        0.2199   0.9626   0.7500       NaN       NaN  0.9031   \n",
       "33          0.0        0.5979   0.9346   1.0000       NaN       NaN  0.6196   \n",
       "322         1.0        0.5697   0.8596      NaN       NaN       NaN  0.6250   \n",
       "158         0.0           NaN   0.7500      NaN       NaN       NaN  0.3231   \n",
       "129         2.0           NaN   0.5049      NaN       NaN       NaN  0.1730   \n",
       "128         2.0           NaN   0.5049      NaN       NaN       NaN  0.1730   \n",
       "530         1.0        0.1674   0.9817      NaN       NaN       NaN  0.9111   \n",
       "121         1.0        0.4885   0.9021   1.0000       NaN       NaN  0.7502   \n",
       "588         0.0           NaN   0.3942      NaN       NaN       NaN  0.1728   \n",
       "120         1.0        0.4885   0.9021   1.0000       NaN       NaN  0.7502   \n",
       "669         1.0        0.5778   0.9303   0.7534       NaN       NaN  0.8183   \n",
       "531         1.0        0.1674   0.9817      NaN       NaN       NaN  0.9111   \n",
       "87          1.0        0.4922   0.7500   1.0000       NaN       NaN     NaN   \n",
       "222         2.0        0.2881   0.9250   0.6154       NaN       NaN  0.8331   \n",
       "383         2.0        0.6489   0.8102   0.5833       NaN       NaN  0.6923   \n",
       "345         2.0        0.5054   0.7548   0.5000       NaN       NaN  0.4714   \n",
       "17          1.0        0.6129   0.8646   1.0000       NaN       NaN  0.6901   \n",
       "16          1.0        0.6379   0.8211   0.3529       NaN       NaN  0.4550   \n",
       "86          1.0        0.4922   0.7500   1.0000       NaN       NaN     NaN   \n",
       "589         0.0           NaN   0.3942      NaN       NaN       NaN  0.1728   \n",
       "\n",
       "     ...  racediversityrank  PPTUG_EF  parttimerank Violentcrimerate  \\\n",
       "328  ...              114.0    0.1818          27.0       943.162038   \n",
       "392  ...              221.0    0.2753          51.0       282.635577   \n",
       "391  ...              221.0    0.2753          51.0       417.798203   \n",
       "393  ...              221.0    0.2753          51.0       862.909348   \n",
       "119  ...               73.0    0.1046         102.0       165.641268   \n",
       "118  ...               73.0    0.1046         102.0       361.716457   \n",
       "97   ...              355.0    0.3425         118.0       165.641268   \n",
       "96   ...              355.0    0.3425         118.0       361.716457   \n",
       "522  ...               38.0    0.2596          35.0       286.944046   \n",
       "342  ...              147.0    0.0454         159.0       943.162038   \n",
       "523  ...               38.0    0.2596          35.0      1072.208171   \n",
       "169  ...              158.0    0.3273         100.0       748.894629   \n",
       "237  ...              102.0    0.0415         165.5       570.721501   \n",
       "668  ...              103.0    0.0477         157.0       585.434709   \n",
       "532  ...               93.0    0.1785          29.0       286.944046   \n",
       "338  ...              200.0    0.1507          56.0       943.162038   \n",
       "533  ...               93.0    0.1785          29.0      1072.208171   \n",
       "49   ...               43.0    0.0281         185.0       732.154482   \n",
       "193  ...               33.0    0.0748         132.0       570.721501   \n",
       "272  ...              257.0    0.2635          39.0       943.162038   \n",
       "31   ...               32.0    0.0206         198.0       732.154482   \n",
       "33   ...               12.0    0.1119          88.0       732.154482   \n",
       "322  ...               49.0    0.0511         152.0       943.162038   \n",
       "158  ...              206.0    0.2922          63.5       748.894629   \n",
       "129  ...               74.0    0.0000         297.0       165.641268   \n",
       "128  ...               74.0    0.0000         297.0       361.716457   \n",
       "530  ...               58.0    0.0135         205.0       286.944046   \n",
       "121  ...              242.0    0.0257         192.0       165.641268   \n",
       "588  ...               99.0    0.0000         297.0       286.944046   \n",
       "120  ...              242.0    0.0257         192.0       361.716457   \n",
       "669  ...              110.0    0.0605         143.0       585.434709   \n",
       "531  ...               58.0    0.0135         205.0      1072.208171   \n",
       "87   ...               24.0    0.3268          99.0       165.641268   \n",
       "222  ...               27.0    0.0492         155.0       570.721501   \n",
       "383  ...              450.0    0.2422          20.0       282.635577   \n",
       "345  ...              217.0    0.1550          54.0       943.162038   \n",
       "17   ...               11.0    0.0371         172.0       669.633536   \n",
       "16   ...               18.0    0.1359          67.0       669.633536   \n",
       "86   ...               24.0    0.3268          99.0       361.716457   \n",
       "589  ...               99.0    0.0000         297.0      1072.208171   \n",
       "\n",
       "    violentrank  Propertycrimerate propertyrank Arsoncrimerate arsonrank  \\\n",
       "328        12.0        2982.640972          6.0      15.367202       8.0   \n",
       "392         2.0        1919.566625          4.0      11.776482       5.0   \n",
       "391         5.0        3196.156257          7.0      20.889910      10.0   \n",
       "393        11.0        3321.291430          8.0      10.562644       4.0   \n",
       "119         1.0           0.000000          1.0       0.000000       1.5   \n",
       "118         4.0        1882.520876          3.0       8.462015       3.0   \n",
       "97          1.0           0.000000          1.0       0.000000       1.5   \n",
       "96          4.0        1882.520876          3.0       8.462015       3.0   \n",
       "522         3.0        5691.056911         13.0       0.000000       1.5   \n",
       "342        12.0        2982.640972          6.0      15.367202       8.0   \n",
       "523        13.0        4319.482970         10.0      20.589182       9.0   \n",
       "169        10.0        3743.512849          9.0      14.678829       7.0   \n",
       "237         6.0        1459.581959          2.0            NaN       NaN   \n",
       "668         7.0        4495.578141         11.0      12.832163       6.0   \n",
       "532         3.0        5691.056911         13.0       0.000000       1.5   \n",
       "338        12.0        2982.640972          6.0      15.367202       8.0   \n",
       "533        13.0        4319.482970         10.0      20.589182       9.0   \n",
       "49          9.0        2383.337160          5.0      41.638173      12.0   \n",
       "193         6.0        1459.581959          2.0            NaN       NaN   \n",
       "272        12.0        2982.640972          6.0      15.367202       8.0   \n",
       "31          9.0        2383.337160          5.0      41.638173      12.0   \n",
       "33          9.0        2383.337160          5.0      41.638173      12.0   \n",
       "322        12.0        2982.640972          6.0      15.367202       8.0   \n",
       "158        10.0        3743.512849          9.0      14.678829       7.0   \n",
       "129         1.0           0.000000          1.0       0.000000       1.5   \n",
       "128         4.0        1882.520876          3.0       8.462015       3.0   \n",
       "530         3.0        5691.056911         13.0       0.000000       1.5   \n",
       "121         1.0           0.000000          1.0       0.000000       1.5   \n",
       "588         3.0        5691.056911         13.0       0.000000       1.5   \n",
       "120         4.0        1882.520876          3.0       8.462015       3.0   \n",
       "669         7.0        4495.578141         11.0      12.832163       6.0   \n",
       "531        13.0        4319.482970         10.0      20.589182       9.0   \n",
       "87          1.0           0.000000          1.0       0.000000       1.5   \n",
       "222         6.0        1459.581959          2.0            NaN       NaN   \n",
       "383         2.0        1919.566625          4.0      11.776482       5.0   \n",
       "345        12.0        2982.640972          6.0      15.367202       8.0   \n",
       "17          8.0        5505.599843         12.0      31.038129      11.0   \n",
       "16          8.0        5505.599843         12.0      31.038129      11.0   \n",
       "86          4.0        1882.520876          3.0       8.462015       3.0   \n",
       "589        13.0        4319.482970         10.0      20.589182       9.0   \n",
       "\n",
       "    averagerank  \n",
       "328   87.192308  \n",
       "392  100.800000  \n",
       "391  101.533333  \n",
       "393  101.600000  \n",
       "119  103.766667  \n",
       "118  104.200000  \n",
       "97   107.964286  \n",
       "96   108.428571  \n",
       "522  111.366667  \n",
       "342  112.285714  \n",
       "523  112.333333  \n",
       "169  112.423077  \n",
       "237  113.107143  \n",
       "668  114.000000  \n",
       "532  115.133333  \n",
       "338  115.428571  \n",
       "533  116.100000  \n",
       "49   116.300000  \n",
       "193  116.392857  \n",
       "272  116.400000  \n",
       "31   116.500000  \n",
       "33   116.600000  \n",
       "322  116.892857  \n",
       "158  117.153846  \n",
       "129  117.692308  \n",
       "128  118.192308  \n",
       "530  119.464286  \n",
       "121  119.900000  \n",
       "588  120.230769  \n",
       "120  120.333333  \n",
       "669  120.333333  \n",
       "531  120.500000  \n",
       "87   120.607143  \n",
       "222  120.714286  \n",
       "383  120.866667  \n",
       "345  120.933333  \n",
       "17   120.966667  \n",
       "16   121.033333  \n",
       "86   121.071429  \n",
       "589  121.346154  \n",
       "\n",
       "[40 rows x 45 columns]"
      ]
     },
     "execution_count": 463,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# sort the top 40 universities based on the average rank\n",
    "dfm2 = dfm2.sort_values ('averagerank', ascending = True)\n",
    "dfm2 = dfm2.iloc[0:40]\n",
    "dfm2"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "d74c2e42",
   "metadata": {},
   "source": [
    "### 3. Conclusion\n",
    "Based on the criteria of location, quality, diversity, and safety, we selected 40 universities that are suitable for Alex. Due to the incompleteness of data, we made our decision based on the available data."
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.8.8"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
